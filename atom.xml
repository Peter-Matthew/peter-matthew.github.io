<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Peter_Matthew的博客</title>
  
  <subtitle>A Konjac in Province H.A.&#39;s Blog</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://williampetermatthew.github.io/"/>
  <updated>2018-10-20T14:54:50.983Z</updated>
  <id>https://williampetermatthew.github.io/</id>
  
  <author>
    <name>WilliamPeterMatthew</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>【置顶】友链了解一下</title>
    <link href="https://williampetermatthew.github.io/blog/friend-links/"/>
    <id>https://williampetermatthew.github.io/blog/friend-links/</id>
    <published>2020-12-31T15:59:59.000Z</published>
    <updated>2018-10-20T14:54:50.983Z</updated>
    
    <content type="html"><![CDATA[<h2 id="本人的"><a href="#本人的" class="headerlink" title="本人的"></a>本人的</h2><p><a href="https://www.luogu.org/blog/Peter-Matthew/" target="_blank" rel="noopener">Luogu博客</a></p><p><a href="https://peter_matthew.coding.me/" target="_blank" rel="noopener">Coding博客</a> <a href="https://peter_matthew.coding.me/atom.xml" target="_blank" rel="noopener">RSS订阅</a></p><p><a href="https://williampetermatthew.github.io/">GitHub博客</a> <a href="https://williampetermatthew.github.io/atom.xml">RSS订阅</a> </p><p><a href="https://williampetermatthew.gitee.io/" target="_blank" rel="noopener">Gitee博客</a> <a href="https://williampetermatthew.gitee.io/atom.xml" target="_blank" rel="noopener">RSS订阅</a> </p><p><a href="https://blog.csdn.net/peter_matthew" target="_blank" rel="noopener">CSDN博客</a> <a href="https://blog.csdn.net/peter_matthew/rss/list" target="_blank" rel="noopener">RSS订阅</a></p><p><a href="https://my.oschina.net/WilliamPeterMatthew" target="_blank" rel="noopener">OsChina博客</a></p><p><a href="http://wpa.qq.com/msgrd?v=3&amp;uin=1145232806&amp;site=qq&amp;menu=yes" target="_blank" rel="noopener"><img src="http://pub.idqqimg.com/wpa/images/counseling_style_52.png" alt="QQ"></a></p><h2 id="好友"><a href="#好友" class="headerlink" title="好友"></a>好友</h2><p>Steven7（尚元睿）<a href="https://www.luogu.org/blog/steven7/" target="_blank" rel="noopener">Luogu</a>|<a href="https://syr_steven.coding.me/" target="_blank" rel="noopener">Coding</a></p><p>树下（柴靖博）<a href="https://www.luogu.org/blog/shuxia/" target="_blank" rel="noopener">Luogu</a>|<a href="https://utjb.gitee.io/" target="_blank" rel="noopener">Gitee</a></p><p><a href="https://www.luogu.org/blog/czj586240000/" target="_blank" rel="noopener">陈子骏</a></p><p><a href="https://mywife-kuroko.blog.luogu.org/" target="_blank" rel="noopener">Shirai_Kuroko（李俊逸）</a></p><p><a href="https://www.luogu.org/blog/asdfghjkl123/" target="_blank" rel="noopener">asdfghjkl123（徐方舟）</a></p><p><a href="https://www.luogu.org/blog/Davids/" target="_blank" rel="noopener">David_Liu（刘大维）</a></p><p>Micardi（陈旭坤）<a href="https://micardi.blog.luogu.org/" target="_blank" rel="noopener">Luogu</a>|<a href="http://micardi.coding.me/" target="_blank" rel="noopener">Coding</a></p><p>cs18（孙锦洋）<a href="https://www.luogu.org/blog/Alice-world/" target="_blank" rel="noopener">Luogu</a>|<a href="https://cs18.coding.me/" target="_blank" rel="noopener">Coding</a></p><p>(Francis_)noco（孙启皓）<a href="https://fancis-noco.blog.luogu.org/" target="_blank" rel="noopener">Luogu</a>|<a href="http://francis_noco.coding.me/" target="_blank" rel="noopener">Coding</a></p><p>超多用户名像什么lzx729687719、北巷丶南栀—笙、zz0214之类的（王子骏）<a href="https://www.luogu.org/blog/zz0214/" target="_blank" rel="noopener">luogu</a>|<a href="http://yue-s.coding.me/" target="_blank" rel="noopener">Coding</a></p><p><a href="https://www.luogu.org/blog/speedforce/" target="_blank" rel="noopener">这个更多。。。什么Shelly、Shelly0420、Curry、Curry0420等等不胜枚举（李明达）</a></p><h2 id="学弟学妹"><a href="#学弟学妹" class="headerlink" title="学弟学妹"></a>学弟学妹</h2><p>_WA自动机（许铎）<a href="https://www.luogu.org/blog/WA-automaton/" target="_blank" rel="noopener">Luogu</a>|<a href="http://WA_automaton.coding.me" target="_blank" rel="noopener">Coding</a></p><p><a href="https://www.luogu.org/blog/user60150/" target="_blank" rel="noopener">Vectory（赵正阳）</a></p><h2 id="学长学姐"><a href="#学长学姐" class="headerlink" title="学长学姐"></a>学长学姐</h2><p><a href="https://pb0207.github.io/" target="_blank" rel="noopener">pb0207（彭博）</a></p><p><a href="https://prostkhala.github.io/" target="_blank" rel="noopener">ProSTKhala（苏同）</a></p><p><a href="https://zhangche0526.github.io/" target="_blank" rel="noopener">zhangche0526（张澈）</a></p><p><a href="https://www.zybuluo.com/KirinBill/note/878927" target="_blank" rel="noopener">KirinBill（徐文博）</a></p><p><a href="https://www.zybuluo.com/zzzc18/note/789450" target="_blank" rel="noopener">zzzc18（张维璞）</a></p><p><a href="https://fancypei.github.io/" target="_blank" rel="noopener">Fancy（裴一凡）</a></p><hr><blockquote><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://t1.picb.cc/uploads/2018/09/06/JW1a8i.png" alt="知识共享许可协议"></a></p><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://t1.picb.cc/uploads/2018/09/06/JW1bXL.png" alt="知识共享许可协议"></a></p><p>本作品采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;本人的&quot;&gt;&lt;a href=&quot;#本人的&quot; class=&quot;headerlink&quot; title=&quot;本人的&quot;&gt;&lt;/a&gt;本人的&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://www.luogu.org/blog/Peter-Matthew/&quot; target=&quot;_blank
      
    
    </summary>
    
      <category term="友链" scheme="https://williampetermatthew.github.io/categories/%E5%8F%8B%E9%93%BE/"/>
    
    
      <category term="友链" scheme="https://williampetermatthew.github.io/tags/%E5%8F%8B%E9%93%BE/"/>
    
  </entry>
  
  <entry>
    <title>重载运算符和重载函数</title>
    <link href="https://williampetermatthew.github.io/blog/Overloaded-Operators-And-Overloaded-Functions/"/>
    <id>https://williampetermatthew.github.io/blog/Overloaded-Operators-And-Overloaded-Functions/</id>
    <published>2018-10-09T07:48:06.000Z</published>
    <updated>2018-10-20T14:59:02.370Z</updated>
    
    <content type="html"><![CDATA[<h1 id="重载运算符"><a href="#重载运算符" class="headerlink" title="重载运算符"></a>重载运算符</h1><h2 id="可重载运算符-不可重载运算符"><a href="#可重载运算符-不可重载运算符" class="headerlink" title="可重载运算符/不可重载运算符"></a>可重载运算符/不可重载运算符</h2><p>下面是可重载的运算符列表：<br><img src="https://t1.picb.cc/uploads/2018/10/18/JQG3vj.png" alt="可重载运算符列表"></p><p>下面是不可重载的运算符列表：</p><ul><li>.：成员访问运算符</li><li><figure class="highlight plain"><figcaption><span>```->*```：成员指针访问运算符</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">- ::：域运算符</span><br><span class="line">- sizeof：长度运算符</span><br><span class="line">- ?:：条件运算符</span><br><span class="line">- ```#```：预处理符号</span><br><span class="line"></span><br><span class="line">我们将以矩阵为例示例重载运算符。</span><br><span class="line">## 双目算术运算符</span><br><span class="line">```cpp</span><br><span class="line">matrix operator*(matrix x,matrix y)</span><br><span class="line">&#123;</span><br><span class="line">matrix tmp;</span><br><span class="line">tmp.clear();</span><br><span class="line">for(int i=1;i&lt;=x.n;i++)</span><br><span class="line">for(int j=1;j&lt;=y.m;j++)</span><br><span class="line">for(int k=1;k&lt;=x.m;k++)</span><br><span class="line">tmp.a[i][j]+=x.a[i][k]*y.a[k][j];</span><br><span class="line">return tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>==(<span class="keyword">const</span> matrix x,<span class="keyword">const</span> matrix y)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(x.n!=y.n)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span>(x.m!=y.m)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=x.n;i++)</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=x.m;j++)</span><br><span class="line"><span class="keyword">if</span>(x.a[i][j]!=y.a[i][j])</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a><del>逻辑运算符</del></h2><p><del>由于重载逻辑运算符过于毒瘤而被隐藏</del><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//bool operator!(matrix x)</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//for(int i=1;i&lt;=x.n;i++)</span></span><br><span class="line"><span class="comment">//for(int j=1;j&lt;=x.m;j++)</span></span><br><span class="line"><span class="comment">//if(!x.a[i][j])</span></span><br><span class="line"><span class="comment">//return 1;</span></span><br><span class="line"><span class="comment">//return 0;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br></pre></td></tr></table></figure></p><h2 id="单目运算符"><a href="#单目运算符" class="headerlink" title="单目运算符"></a>单目运算符</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">matrix <span class="keyword">operator</span>-(matrix x)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=x.n;i++)</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=x.m;j++)</span><br><span class="line">x.a[i][j]=-x.a[i][j];</span><br><span class="line"><span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="自增自减运算符"><a href="#自增自减运算符" class="headerlink" title="自增自减运算符"></a>自增自减运算符</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">matrix&amp; <span class="keyword">operator</span>++(matrix &amp;x)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=x.n;i++)</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=x.m;j++)</span><br><span class="line">x.a[i][j]+=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> x;</span><br><span class="line">&#125;<span class="comment">//前置++ </span></span><br><span class="line">matrix <span class="keyword">operator</span>++(matrix &amp;x,<span class="keyword">int</span> flag)</span><br><span class="line">&#123;</span><br><span class="line">matrix tmp=x;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=x.n;i++)</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=x.m;j++)</span><br><span class="line">x.a[i][j]+=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> tmp;</span><br><span class="line">&#125;<span class="comment">//后置++</span></span><br></pre></td></tr></table></figure><h2 id="位运算符"><a href="#位运算符" class="headerlink" title="位运算符"></a>位运算符</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">matrix <span class="keyword">operator</span>~(matrix x)</span><br><span class="line">&#123;</span><br><span class="line">matrix tmp;</span><br><span class="line">tmp.clear();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=x.n;i++)</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=x.m;j++)</span><br><span class="line">tmp.a[i][j]=~x.a[i][j];</span><br><span class="line"><span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">matrix&amp; <span class="keyword">operator</span>*=(matrix &amp;x,matrix y)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> x=x*y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="重载函数"><a href="#重载函数" class="headerlink" title="重载函数"></a>重载函数</h1><p>对于C++中预制的函数，有的函数由于固定了类型，比如pow在&lt;math.h&gt;中的返回值类型为double，传的两个参数类型也为double，那么如果我们使用int进行操作，在某些编译选项下（例如-lm），可能会CE；max和min函数在STL中的定义返回值类型为<figure class="highlight plain"><figcaption><span>_Tp>&```，传的两个参数类型也均为```const<typename _tp="">&```，这就意味着你不能把int和long long两个类型的数同时传到max或min里，否则就会CE。</typename></span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">遇到这种情况，我们就需要重载函数，有的人可能称这种为手写函数，但实际上我们写数据结构之类的函数是手写函数没问题，但max或min这种实际上是重载函数。</span><br><span class="line"></span><br><span class="line">对于矩阵重载pow函数的例子：</span><br><span class="line">```cpp</span><br><span class="line">matrix pow(matrix a,int k)</span><br><span class="line">&#123;</span><br><span class="line">matrix ans;</span><br><span class="line">ans.init();</span><br><span class="line">while(k)</span><br><span class="line">&#123;</span><br><span class="line">if(k&amp;1)ans*=a;</span><br><span class="line">a*=a;</span><br><span class="line">k&gt;&gt;=1;</span><br><span class="line">&#125;</span><br><span class="line">return ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><blockquote><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://t1.picb.cc/uploads/2018/09/06/JW1a8i.png" alt="知识共享许可协议"></a></p><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://t1.picb.cc/uploads/2018/09/06/JW1bXL.png" alt="知识共享许可协议"></a></p><p>本作品采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;重载运算符&quot;&gt;&lt;a href=&quot;#重载运算符&quot; class=&quot;headerlink&quot; title=&quot;重载运算符&quot;&gt;&lt;/a&gt;重载运算符&lt;/h1&gt;&lt;h2 id=&quot;可重载运算符-不可重载运算符&quot;&gt;&lt;a href=&quot;#可重载运算符-不可重载运算符&quot; class=&quot;head
      
    
    </summary>
    
      <category term="柯基" scheme="https://williampetermatthew.github.io/categories/%E6%9F%AF%E5%9F%BA/"/>
    
    
      <category term="柯基" scheme="https://williampetermatthew.github.io/tags/%E6%9F%AF%E5%9F%BA/"/>
    
  </entry>
  
  <entry>
    <title>高精度带符号整数算法</title>
    <link href="https://williampetermatthew.github.io/blog/high-precision-yes/"/>
    <id>https://williampetermatthew.github.io/blog/high-precision-yes/</id>
    <published>2018-10-06T00:14:48.000Z</published>
    <updated>2018-10-20T14:58:05.280Z</updated>
    
    <content type="html"><![CDATA[<p>本博客是 高精度无符号整数算法 的延伸版本，请读者在食用前序文章后食用本篇效果更佳。</p><h1 id="高精度的写法"><a href="#高精度的写法" class="headerlink" title="高精度的写法"></a>高精度的写法</h1><p>同无符号的一样，我们仍采用struct封装，但与之前不同的是，我们新定义一个f表示正负。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Wint</span>:</span><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> f=<span class="number">1</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>然后改下构造函数<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Wint(<span class="keyword">int</span> n=<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(n&lt;<span class="number">0</span>)n*=f=<span class="number">-1</span>;</span><br><span class="line">    push_back(n);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>不再过多解释构造函数写法，只是这里要判断收到的n的正负。<br>然后是check函数。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Wint&amp; <span class="title">check</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(!empty()&amp;&amp;!back())pop_back();</span><br><span class="line">    <span class="keyword">if</span>(empty())&#123;f=<span class="number">1</span>;<span class="keyword">return</span> *<span class="keyword">this</span>;&#125;</span><br><span class="line">    <span class="keyword">if</span>(back()&lt;<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">f*=<span class="number">-1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;size(); ++i)</span><br><span class="line">(*<span class="keyword">this</span>)[i]*=<span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;size(); ++i)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">while</span>((*<span class="keyword">this</span>)[i<span class="number">-1</span>]&lt;<span class="number">0</span>)</span><br><span class="line">     &#123;</span><br><span class="line">         <span class="keyword">int</span> j=i;</span><br><span class="line">         <span class="keyword">while</span>((*<span class="keyword">this</span>)[j]&lt;=<span class="number">0</span>&amp;&amp;j&lt;size())++j;</span><br><span class="line">         <span class="keyword">while</span>(j&gt;=i)</span><br><span class="line">         &#123;</span><br><span class="line">             --(*<span class="keyword">this</span>)[j];</span><br><span class="line">             (*<span class="keyword">this</span>)[--j]+=<span class="number">10</span>;</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">        (*<span class="keyword">this</span>)[i]+=(*<span class="keyword">this</span>)[i<span class="number">-1</span>]/<span class="number">10</span>;</span><br><span class="line">        (*<span class="keyword">this</span>)[i<span class="number">-1</span>]%=<span class="number">10</span>;</span><br><span class="line">        <span class="keyword">while</span>(!empty()&amp;&amp;!back())pop_back();</span><br><span class="line">    <span class="keyword">if</span>(empty())&#123;f=<span class="number">1</span>;<span class="keyword">return</span> *<span class="keyword">this</span>;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(back()&gt;=<span class="number">10</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        push_back(back()/<span class="number">10</span>);</span><br><span class="line">        (*<span class="keyword">this</span>)[size()<span class="number">-2</span>]%=<span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(back()&lt;<span class="number">0</span>)f*=<span class="number">-1</span>,(*<span class="keyword">this</span>)[size()<span class="number">-1</span>]*=<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>那么整体的struct就长这样<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Wint</span>:</span><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> f=<span class="number">1</span>;</span><br><span class="line">    Wint(<span class="keyword">int</span> n=<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;<span class="number">0</span>)n*=f=<span class="number">-1</span>;</span><br><span class="line">        push_back(n);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">Wint&amp; <span class="title">check</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(!empty()&amp;&amp;!back())pop_back();</span><br><span class="line">        <span class="keyword">if</span>(empty())&#123;f=<span class="number">1</span>;<span class="keyword">return</span> *<span class="keyword">this</span>;&#125;</span><br><span class="line">        <span class="keyword">if</span>(back()&lt;<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">    f*=<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;size(); ++i)</span><br><span class="line">    (*<span class="keyword">this</span>)[i]*=<span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;size(); ++i)</span><br><span class="line">        &#123;</span><br><span class="line">        <span class="keyword">while</span>((*<span class="keyword">this</span>)[i<span class="number">-1</span>]&lt;<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> j=i;</span><br><span class="line">            <span class="keyword">while</span>((*<span class="keyword">this</span>)[j]&lt;=<span class="number">0</span>&amp;&amp;j&lt;size())++j;</span><br><span class="line">            <span class="keyword">while</span>(j&gt;=i)</span><br><span class="line">            &#123;</span><br><span class="line">                --(*<span class="keyword">this</span>)[j];</span><br><span class="line">                (*<span class="keyword">this</span>)[--j]+=<span class="number">10</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">            (*<span class="keyword">this</span>)[i]+=(*<span class="keyword">this</span>)[i<span class="number">-1</span>]/<span class="number">10</span>;</span><br><span class="line">            (*<span class="keyword">this</span>)[i<span class="number">-1</span>]%=<span class="number">10</span>;</span><br><span class="line">            <span class="keyword">while</span>(!empty()&amp;&amp;!back())pop_back();</span><br><span class="line">        <span class="keyword">if</span>(empty())&#123;f=<span class="number">1</span>;<span class="keyword">return</span> *<span class="keyword">this</span>;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(back()&gt;=<span class="number">10</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            push_back(back()/<span class="number">10</span>);</span><br><span class="line">            (*<span class="keyword">this</span>)[size()<span class="number">-2</span>]%=<span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(back()&lt;<span class="number">0</span>)f*=<span class="number">-1</span>,(*<span class="keyword">this</span>)[size()<span class="number">-1</span>]*=<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p><strong><em>所有的运算符重载可以参见我的 重载运算符和重载函数 博客</em></strong></p><h2 id="输入输出运算符"><a href="#输入输出运算符" class="headerlink" title="输入输出运算符"></a>输入输出运算符</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">istream&amp; <span class="keyword">operator</span>&gt;&gt;(istream &amp;is,Wint &amp;n)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">string</span> s;</span><br><span class="line">    is&gt;&gt;s;</span><br><span class="line">    n.clear();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=s.size()<span class="number">-1</span>; i&gt;=<span class="number">0</span>; --i)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">if</span>(s[i]==<span class="string">'-'</span>)</span><br><span class="line">    &#123;</span><br><span class="line">    n.f=<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    n.push_back(s[i]-<span class="string">'0'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> is;</span><br><span class="line">&#125;</span><br><span class="line">ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream &amp;os,<span class="keyword">const</span> Wint &amp;n)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(n.empty())&#123;os&lt;&lt;<span class="number">0</span>;<span class="keyword">return</span> os;&#125;</span><br><span class="line"><span class="keyword">if</span>(n.f==<span class="number">-1</span>)os&lt;&lt;<span class="string">"-"</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=n.size()<span class="number">-1</span>; i&gt;=<span class="number">0</span>; --i)os&lt;&lt;n[i];</span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>直接增加”-“的判断即可。</p><h2 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h2><p>正如之前的，我们只写高精度之间的比较<del>，如果我们要比较一个高精度和另一个整数，可以同之前所述采用stringstream传（此条因太过毒瘤笔者被Diss到爆而去掉，感兴趣的读者可以自己了解下stringstream）</del>。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>!=(<span class="keyword">const</span> Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(a.f!=b.f)<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(a.size()!=b.size())<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=a.size()<span class="number">-1</span>; i&gt;=<span class="number">0</span>; --i)</span><br><span class="line">        <span class="keyword">if</span>(a[i]!=b[i])<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>==(<span class="keyword">const</span> Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> !(a!=b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(a.f!=b.f)<span class="keyword">return</span> a.f&lt;b.f;</span><br><span class="line">    <span class="keyword">if</span>(a.size()!=b.size())<span class="keyword">return</span> a.size()&lt;b.size();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=a.size()<span class="number">-1</span>; i&gt;=<span class="number">0</span>; --i)</span><br><span class="line">        <span class="keyword">if</span>(a[i]!=b[i])<span class="keyword">return</span> a[i]&lt;b[i];</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&gt;(<span class="keyword">const</span> Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> b&lt;a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&lt;=(<span class="keyword">const</span> Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> !(a&gt;b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&gt;=(<span class="keyword">const</span> Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> !(a&lt;b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>加上判断f即可。</p><h2 id="单目运算符与abs函数"><a href="#单目运算符与abs函数" class="headerlink" title="单目运算符与abs函数"></a>单目运算符与abs函数</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Wint <span class="keyword">operator</span>-(Wint a)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(~a.f)a.f=<span class="number">-1</span>;</span><br><span class="line"><span class="keyword">else</span> a.f=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> a.check();</span><br><span class="line">&#125; </span><br><span class="line"><span class="function">Wint <span class="title">abs</span><span class="params">(Wint a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(a&lt;<span class="number">0</span>)<span class="keyword">return</span> -a;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>对于-运算符，我们改变符号即可。<br>对于abs函数，我们分段返回即可。</p><h2 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a><del>逻辑运算符</del></h2><p><del>此内容已因笔者过于蒟蒻或毒瘤而被Diss到爆炸，现已划线。</del><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//bool operator!(Wint &amp;n)</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//n.check();</span></span><br><span class="line"><span class="comment">//return n==0;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//bool operator~(Wint &amp;n)</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//n.check();</span></span><br><span class="line"><span class="comment">//return n!=-1;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//bool operator&amp;&amp;(Wint &amp;a,Wint &amp;b)</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//a.check();b.check();</span></span><br><span class="line"><span class="comment">//if(!a)return 0;</span></span><br><span class="line"><span class="comment">//if(!b)return 0;</span></span><br><span class="line"><span class="comment">//return 1;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//bool operator||(Wint &amp;a,Wint &amp;b)</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//a.check();b.check();</span></span><br><span class="line"><span class="comment">//if(a&gt;0)return 1;</span></span><br><span class="line"><span class="comment">//if(b&gt;0)return 1;</span></span><br><span class="line"><span class="comment">//return 0;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br></pre></td></tr></table></figure></p><p><del>即使加上符号也十分的简单对不对。。。</del></p><h2 id="双目算术、赋值和自增自减运算符"><a href="#双目算术、赋值和自增自减运算符" class="headerlink" title="双目算术、赋值和自增自减运算符"></a>双目算术、赋值和自增自减运算符</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">Wint&amp; <span class="keyword">operator</span>+=(Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">Wint c=b;</span><br><span class="line">    <span class="keyword">if</span>(a.size()&lt;c.size())a.resize(c.size());</span><br><span class="line">    <span class="keyword">if</span>(a&lt;<span class="number">0</span>&amp;&amp;c&gt;<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">abs</span>(a)&lt;<span class="built_in">abs</span>(c))</span><br><span class="line">    &#123;</span><br><span class="line">    swap(a,c);</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(a&gt;<span class="number">0</span>&amp;&amp;c&lt;<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">abs</span>(a)&lt;<span class="built_in">abs</span>(c))</span><br><span class="line">    &#123;</span><br><span class="line">    swap(a,c);</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i!=b.size();++i)a[i]+=c[i]*((a.f==c.f)?<span class="number">1</span>:<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">return</span> a.check();</span><br><span class="line">&#125;</span><br><span class="line">Wint <span class="keyword">operator</span>+(Wint a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> a+=b;</span><br><span class="line">&#125;</span><br><span class="line">Wint&amp; <span class="keyword">operator</span>++(Wint &amp;n)</span><br><span class="line">&#123;</span><br><span class="line">n+=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> n.check();</span><br><span class="line">&#125;</span><br><span class="line">Wint <span class="keyword">operator</span>++(Wint &amp;n,<span class="keyword">int</span> flag)</span><br><span class="line">&#123;</span><br><span class="line">Wint tmp=n;</span><br><span class="line">n+=<span class="number">1</span>;</span><br><span class="line">n.check();</span><br><span class="line"><span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line">Wint&amp; <span class="keyword">operator</span>-=(Wint &amp;a,<span class="keyword">const</span> Wint b)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> a+=-b;</span><br><span class="line">&#125;</span><br><span class="line">Wint <span class="keyword">operator</span>-(Wint a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> a-=b;</span><br><span class="line">&#125;</span><br><span class="line">Wint&amp; <span class="keyword">operator</span>--(Wint &amp;n)</span><br><span class="line">&#123;</span><br><span class="line">n-=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> n.check();</span><br><span class="line">&#125;</span><br><span class="line">Wint <span class="keyword">operator</span>--(Wint &amp;n,<span class="keyword">int</span> flag)</span><br><span class="line">&#123;</span><br><span class="line">Wint tmp=n;</span><br><span class="line">n-=<span class="number">1</span>;</span><br><span class="line">n.check();</span><br><span class="line"><span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>有了符号，加减就可以一起处理了。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">Wint <span class="keyword">operator</span>*(<span class="keyword">const</span> Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    Wint n;</span><br><span class="line">    <span class="keyword">if</span>(a.f!=b.f)n.f=<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">else</span> n.f=<span class="number">1</span>;</span><br><span class="line">    n.assign(a.size()+b.size()<span class="number">-1</span>,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i!=a.size(); ++i)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j!=b.size(); ++j)</span><br><span class="line">            n[i+j]+=a[i]*b[j];</span><br><span class="line">    <span class="keyword">return</span> n.check();</span><br><span class="line">&#125;</span><br><span class="line">Wint&amp; <span class="keyword">operator</span>*=(Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> a=a*b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Wint <span class="title">divmod</span><span class="params">(Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Wint ans,tmp=b;</span><br><span class="line">    <span class="keyword">int</span> af=a.f,tmpf=tmp.f;</span><br><span class="line">    a.f=tmp.f=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> t=a.size()-tmp.size(); a&gt;=tmp; --t)</span><br><span class="line">    &#123;</span><br><span class="line">        Wint d;</span><br><span class="line">        d.assign(t+<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">        d.back()=<span class="number">1</span>;</span><br><span class="line">        Wint c=tmp*d;</span><br><span class="line">        <span class="keyword">while</span>(a&gt;=c)</span><br><span class="line">        &#123;</span><br><span class="line">            a-=c;</span><br><span class="line">            ans+=d;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(af!=tmpf)ans.f=<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">else</span> ans.f=<span class="number">1</span>;</span><br><span class="line">    a.f=af,tmp.f=tmpf;</span><br><span class="line">    <span class="keyword">return</span> ans.check();</span><br><span class="line">&#125;</span><br><span class="line">Wint <span class="keyword">operator</span>/(Wint a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> divmod(a,b);</span><br><span class="line">&#125;</span><br><span class="line">Wint&amp; <span class="keyword">operator</span>/=(Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> a=a/b;</span><br><span class="line">&#125;</span><br><span class="line">Wint&amp; <span class="keyword">operator</span>%=(Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    divmod(a,b);</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line">Wint <span class="keyword">operator</span>%(Wint a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> a%=b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>乘除只用判断同或异号。<br>这里的取模运算，对于正数，取正或负模均为正数；对于负数，取正或负模均为负数。</p><h2 id="常用函数"><a href="#常用函数" class="headerlink" title="常用函数"></a>常用函数</h2><p>abs函数已经在上文提过。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Wint <span class="title">pow</span><span class="params">(<span class="keyword">const</span> Wint &amp;n,<span class="keyword">const</span> Wint &amp;k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(k.empty())<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(k==<span class="number">2</span>)<span class="keyword">return</span> n*n;</span><br><span class="line">    <span class="keyword">if</span>(k.back()%<span class="number">2</span>)<span class="keyword">return</span> n*<span class="built_in">pow</span>(n,k<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">pow</span>(<span class="built_in">pow</span>(n,k/<span class="number">2</span>),<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//下面是非递归写法</span></span><br><span class="line"><span class="function">Wint <span class="title">pow</span><span class="params">(Wint n,Wint k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">Wint <span class="title">ans</span><span class="params">(<span class="number">1</span>)</span></span>;</span><br><span class="line"><span class="keyword">while</span>(k&gt;<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(k%<span class="number">2</span>&gt;<span class="number">0</span>)</span><br><span class="line">ans*=n;</span><br><span class="line">n*=n;</span><br><span class="line">k/=<span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>这是快速幂函数。</p><h2 id="回顾"><a href="#回顾" class="headerlink" title="回顾"></a>回顾</h2><p>那么整体的写法如下<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Wint</span>:</span><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> f=<span class="number">1</span>;</span><br><span class="line">    Wint(<span class="keyword">int</span> n=<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;<span class="number">0</span>)n*=f=<span class="number">-1</span>;</span><br><span class="line">        push_back(n);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">Wint&amp; <span class="title">check</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(!empty()&amp;&amp;!back())pop_back();</span><br><span class="line">        <span class="keyword">if</span>(empty())&#123;f=<span class="number">1</span>;<span class="keyword">return</span> *<span class="keyword">this</span>;&#125;</span><br><span class="line">        <span class="keyword">if</span>(back()&lt;<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">    f*=<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;size(); ++i)</span><br><span class="line">    (*<span class="keyword">this</span>)[i]*=<span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;size(); ++i)</span><br><span class="line">        &#123;</span><br><span class="line">        <span class="keyword">while</span>((*<span class="keyword">this</span>)[i<span class="number">-1</span>]&lt;<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> j=i;</span><br><span class="line">            <span class="keyword">while</span>((*<span class="keyword">this</span>)[j]&lt;=<span class="number">0</span>&amp;&amp;j&lt;size())++j;</span><br><span class="line">            <span class="keyword">while</span>(j&gt;=i)</span><br><span class="line">            &#123;</span><br><span class="line">                --(*<span class="keyword">this</span>)[j];</span><br><span class="line">                (*<span class="keyword">this</span>)[--j]+=<span class="number">10</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">            (*<span class="keyword">this</span>)[i]+=(*<span class="keyword">this</span>)[i<span class="number">-1</span>]/<span class="number">10</span>;</span><br><span class="line">            (*<span class="keyword">this</span>)[i<span class="number">-1</span>]%=<span class="number">10</span>;</span><br><span class="line">            <span class="keyword">while</span>(!empty()&amp;&amp;!back())pop_back();</span><br><span class="line">        <span class="keyword">if</span>(empty())&#123;f=<span class="number">1</span>;<span class="keyword">return</span> *<span class="keyword">this</span>;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(back()&gt;=<span class="number">10</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            push_back(back()/<span class="number">10</span>);</span><br><span class="line">            (*<span class="keyword">this</span>)[size()<span class="number">-2</span>]%=<span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(back()&lt;<span class="number">0</span>)f*=<span class="number">-1</span>,(*<span class="keyword">this</span>)[size()<span class="number">-1</span>]*=<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">istream&amp; <span class="keyword">operator</span>&gt;&gt;(istream &amp;is,Wint &amp;n)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">string</span> s;</span><br><span class="line">    is&gt;&gt;s;</span><br><span class="line">    n.clear();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=s.size()<span class="number">-1</span>; i&gt;=<span class="number">0</span>; --i)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">if</span>(s[i]==<span class="string">'-'</span>)</span><br><span class="line">    &#123;</span><br><span class="line">    n.f=<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    n.push_back(s[i]-<span class="string">'0'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> is;</span><br><span class="line">&#125;</span><br><span class="line">ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream &amp;os,<span class="keyword">const</span> Wint &amp;n)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(n.empty())&#123;os&lt;&lt;<span class="number">0</span>;<span class="keyword">return</span> os;&#125;</span><br><span class="line"><span class="keyword">if</span>(n.f==<span class="number">-1</span>)os&lt;&lt;<span class="string">"-"</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=n.size()<span class="number">-1</span>; i&gt;=<span class="number">0</span>; --i)os&lt;&lt;n[i];</span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>!=(<span class="keyword">const</span> Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(a.f!=b.f)<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(a.size()!=b.size())<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=a.size()<span class="number">-1</span>; i&gt;=<span class="number">0</span>; --i)</span><br><span class="line">        <span class="keyword">if</span>(a[i]!=b[i])<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>==(<span class="keyword">const</span> Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> !(a!=b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(a.f!=b.f)<span class="keyword">return</span> a.f&lt;b.f;</span><br><span class="line">    <span class="keyword">if</span>(a.size()!=b.size())<span class="keyword">return</span> a.size()&lt;b.size();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=a.size()<span class="number">-1</span>; i&gt;=<span class="number">0</span>; --i)</span><br><span class="line">        <span class="keyword">if</span>(a[i]!=b[i])<span class="keyword">return</span> a[i]&lt;b[i];</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&gt;(<span class="keyword">const</span> Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> b&lt;a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&lt;=(<span class="keyword">const</span> Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> !(a&gt;b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&gt;=(<span class="keyword">const</span> Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> !(a&lt;b);</span><br><span class="line">&#125;</span><br><span class="line">Wint <span class="keyword">operator</span>-(Wint a)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(~a.f)a.f=<span class="number">-1</span>;</span><br><span class="line"><span class="keyword">else</span> a.f=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> a.check();</span><br><span class="line">&#125; </span><br><span class="line"><span class="function">Wint <span class="title">abs</span><span class="params">(Wint a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(a&lt;<span class="number">0</span>)<span class="keyword">return</span> -a;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">return</span> a;</span><br><span class="line">&#125; </span><br><span class="line">Wint&amp; <span class="keyword">operator</span>+=(Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">Wint c=b;</span><br><span class="line">    <span class="keyword">if</span>(a.size()&lt;c.size())a.resize(c.size());</span><br><span class="line">    <span class="keyword">if</span>(a&lt;<span class="number">0</span>&amp;&amp;c&gt;<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">abs</span>(a)&lt;<span class="built_in">abs</span>(c))</span><br><span class="line">    &#123;</span><br><span class="line">    swap(a,c);</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(a&gt;<span class="number">0</span>&amp;&amp;c&lt;<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">abs</span>(a)&lt;<span class="built_in">abs</span>(c))</span><br><span class="line">    &#123;</span><br><span class="line">    swap(a,c);</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i!=b.size();++i)a[i]+=c[i]*((a.f==c.f)?<span class="number">1</span>:<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">return</span> a.check();</span><br><span class="line">&#125;</span><br><span class="line">Wint <span class="keyword">operator</span>+(Wint a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> a+=b;</span><br><span class="line">&#125;</span><br><span class="line">Wint&amp; <span class="keyword">operator</span>++(Wint &amp;n)</span><br><span class="line">&#123;</span><br><span class="line">n+=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> n.check();</span><br><span class="line">&#125;</span><br><span class="line">Wint <span class="keyword">operator</span>++(Wint &amp;n,<span class="keyword">int</span> flag)</span><br><span class="line">&#123;</span><br><span class="line">Wint tmp=n;</span><br><span class="line">n+=<span class="number">1</span>;</span><br><span class="line">n.check();</span><br><span class="line"><span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line">Wint&amp; <span class="keyword">operator</span>-=(Wint &amp;a,<span class="keyword">const</span> Wint b)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> a+=-b;</span><br><span class="line">&#125;</span><br><span class="line">Wint <span class="keyword">operator</span>-(Wint a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> a-=b;</span><br><span class="line">&#125;</span><br><span class="line">Wint&amp; <span class="keyword">operator</span>--(Wint &amp;n)</span><br><span class="line">&#123;</span><br><span class="line">n-=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> n.check();</span><br><span class="line">&#125;</span><br><span class="line">Wint <span class="keyword">operator</span>--(Wint &amp;n,<span class="keyword">int</span> flag)</span><br><span class="line">&#123;</span><br><span class="line">Wint tmp=n;</span><br><span class="line">n-=<span class="number">1</span>;</span><br><span class="line">n.check();</span><br><span class="line"><span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line">Wint <span class="keyword">operator</span>*(<span class="keyword">const</span> Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    Wint n;</span><br><span class="line">    <span class="keyword">if</span>(a.f!=b.f)n.f=<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">else</span> n.f=<span class="number">1</span>;</span><br><span class="line">    n.assign(a.size()+b.size()<span class="number">-1</span>,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i!=a.size(); ++i)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j!=b.size(); ++j)</span><br><span class="line">            n[i+j]+=a[i]*b[j];</span><br><span class="line">    <span class="keyword">return</span> n.check();</span><br><span class="line">&#125;</span><br><span class="line">Wint&amp; <span class="keyword">operator</span>*=(Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> a=a*b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Wint <span class="title">divmod</span><span class="params">(Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Wint ans,tmp=b;</span><br><span class="line">    <span class="keyword">int</span> af=a.f,tmpf=tmp.f;</span><br><span class="line">    a.f=tmp.f=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> t=a.size()-tmp.size(); a&gt;=tmp; --t)</span><br><span class="line">    &#123;</span><br><span class="line">        Wint d;</span><br><span class="line">        d.assign(t+<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">        d.back()=<span class="number">1</span>;</span><br><span class="line">        Wint c=tmp*d;</span><br><span class="line">        <span class="keyword">while</span>(a&gt;=c)</span><br><span class="line">        &#123;</span><br><span class="line">            a-=c;</span><br><span class="line">            ans+=d;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(af!=tmpf)ans.f=<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">else</span> ans.f=<span class="number">1</span>;</span><br><span class="line">    a.f=af,tmp.f=tmpf;</span><br><span class="line">    <span class="keyword">return</span> ans.check();</span><br><span class="line">&#125;</span><br><span class="line">Wint <span class="keyword">operator</span>/(Wint a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> divmod(a,b);</span><br><span class="line">&#125;</span><br><span class="line">Wint&amp; <span class="keyword">operator</span>/=(Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> a=a/b;</span><br><span class="line">&#125;</span><br><span class="line">Wint&amp; <span class="keyword">operator</span>%=(Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    divmod(a,b);</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line">Wint <span class="keyword">operator</span>%(Wint a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> a%=b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Wint <span class="title">pow</span><span class="params">(<span class="keyword">const</span> Wint &amp;n,<span class="keyword">const</span> Wint &amp;k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(k.empty())<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(k==<span class="number">2</span>)<span class="keyword">return</span> n*n;</span><br><span class="line">    <span class="keyword">if</span>(k.back()%<span class="number">2</span>)<span class="keyword">return</span> n*<span class="built_in">pow</span>(n,k<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">pow</span>(<span class="built_in">pow</span>(n,k/<span class="number">2</span>),<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">////下面是非递归写法</span></span><br><span class="line"><span class="comment">//Wint pow(Wint n,Wint k)</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//Wint ans(1);</span></span><br><span class="line"><span class="comment">//while(k&gt;0)</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//if(k%2&gt;0)</span></span><br><span class="line"><span class="comment">//ans*=n;</span></span><br><span class="line"><span class="comment">//n*=n;</span></span><br><span class="line"><span class="comment">//k/=2;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//return ans;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br></pre></td></tr></table></figure></p><h1 id="高精度的用法"><a href="#高精度的用法" class="headerlink" title="高精度的用法"></a>高精度的用法</h1><p>还是举洛谷高精度算法试炼场中的几道题<br>我们在main函数中这么写<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Wint a,b;</span><br><span class="line">    <span class="comment">//可以把b改成int型，仍能正常使用（题切不了）</span></span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b;</span><br><span class="line">    <span class="comment">//LuoguP1601 cout&lt;&lt;a+b&lt;&lt;endl;</span></span><br><span class="line">    <span class="comment">//LuoguP2142 cout&lt;&lt;a-b&lt;&lt;endl;</span></span><br><span class="line">    <span class="comment">//LuoguP1303 cout&lt;&lt;a*b&lt;&lt;endl;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><blockquote><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://t1.picb.cc/uploads/2018/09/06/JW1a8i.png" alt="知识共享许可协议"></a></p><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://t1.picb.cc/uploads/2018/09/06/JW1bXL.png" alt="知识共享许可协议"></a></p><p>本作品采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;本博客是 高精度无符号整数算法 的延伸版本，请读者在食用前序文章后食用本篇效果更佳。&lt;/p&gt;
&lt;h1 id=&quot;高精度的写法&quot;&gt;&lt;a href=&quot;#高精度的写法&quot; class=&quot;headerlink&quot; title=&quot;高精度的写法&quot;&gt;&lt;/a&gt;高精度的写法&lt;/h1&gt;&lt;p&gt;同无符号
      
    
    </summary>
    
      <category term="柯基" scheme="https://williampetermatthew.github.io/categories/%E6%9F%AF%E5%9F%BA/"/>
    
    
      <category term="柯基" scheme="https://williampetermatthew.github.io/tags/%E6%9F%AF%E5%9F%BA/"/>
    
  </entry>
  
  <entry>
    <title>高精度无符号整数算法</title>
    <link href="https://williampetermatthew.github.io/blog/high-precision-no/"/>
    <id>https://williampetermatthew.github.io/blog/high-precision-no/</id>
    <published>2018-09-29T13:20:20.000Z</published>
    <updated>2018-10-20T14:57:18.386Z</updated>
    
    <content type="html"><![CDATA[<h1 id="高精度的写法"><a href="#高精度的写法" class="headerlink" title="高精度的写法"></a>高精度的写法</h1><p>我们为了方便后来的操作，可以先使用一个struct封装内容物。<br>我们可以在声明一个struct的时候自动声明一个vector作为整体类型。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Wint</span>:</span><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>我们可以写一个构造函数<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Wint(<span class="keyword">int</span> n=<span class="number">0</span>)</span><br><span class="line">   &#123;</span><br><span class="line">   push_back(n);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></p><p>对于这个构造函数，如果我们不传n，那么默认n为0。<br>同时，我们为了方便写高精度之间的操作，我们可以先写一个check函数以帮助我们写下面的函数。我们检查下是否在非空的情况下最后一位为0，如果是我们就弹掉（如果是最后一位，额，我们在输出的时候会解决这个问题，可以提前看下怎么处理）。我们发现一位大于9，我们就进位，如果最后一位（即最高位）还大于9，我们就新建最后一位。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Wint&amp; <span class="title">check</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(!empty()&amp;&amp;!back())pop_back();</span><br><span class="line">    <span class="keyword">if</span>(empty())<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;size(); ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        (*<span class="keyword">this</span>)[i]+=(*<span class="keyword">this</span>)[i<span class="number">-1</span>]/<span class="number">10</span>;</span><br><span class="line">        (*<span class="keyword">this</span>)[i<span class="number">-1</span>]%=<span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(back()&gt;=<span class="number">10</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        push_back(back()/<span class="number">10</span>);</span><br><span class="line">        (*<span class="keyword">this</span>)[size()<span class="number">-2</span>]%=<span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>那么整体的struct就长这样<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Wint</span>:</span><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    Wint(<span class="keyword">int</span> n=<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        push_back(n);</span><br><span class="line">        check();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">Wint&amp; <span class="title">check</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(!empty()&amp;&amp;!back())pop_back();</span><br><span class="line">        <span class="keyword">if</span>(empty())<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;size(); ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            (*<span class="keyword">this</span>)[i]+=(*<span class="keyword">this</span>)[i<span class="number">-1</span>]/<span class="number">10</span>;</span><br><span class="line">            (*<span class="keyword">this</span>)[i<span class="number">-1</span>]%=<span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(back()&gt;=<span class="number">10</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            push_back(back()/<span class="number">10</span>);</span><br><span class="line">            (*<span class="keyword">this</span>)[size()<span class="number">-2</span>]%=<span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p><strong><em>所有的运算符重载可以参见我的 重载运算符和重载函数 博客</em></strong></p><h2 id="输入输出运算符"><a href="#输入输出运算符" class="headerlink" title="输入输出运算符"></a>输入输出运算符</h2><p>我们不要考虑scanf这种读入<del>（因为这样的实现很复杂我不会）</del>，既然高精度的时间复杂度很大<del>（也有可能是我比较蒟蒻）</del>，我们就可以考虑流式输入输出<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">istream&amp; <span class="keyword">operator</span>&gt;&gt;(istream &amp;is,Wint &amp;n)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">string</span> s;</span><br><span class="line">    is&gt;&gt;s;</span><br><span class="line">    n.clear();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=s.size()<span class="number">-1</span>;i&gt;=<span class="number">0</span>;--i)n.push_back(s[i]-<span class="string">'0'</span>);</span><br><span class="line">    <span class="keyword">return</span> is;</span><br><span class="line">&#125;</span><br><span class="line">ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream &amp;os,<span class="keyword">const</span> Wint &amp;n)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(n.empty())os&lt;&lt;<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=n.size()<span class="number">-1</span>;i&gt;=<span class="number">0</span>;--i)os&lt;&lt;n[i];</span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>至于流式输入输出的运算符写法，可以参考我的博客重载运算符。</p><p>对于输入流，我们先读入一串字符，然后从后向前加数（即高位在后，低位在前，这样方便我们进行加减等运算）。</p><p>对于输出流，我们如果发现为空（一般是只定义没有输入或计算，常用来卡高精）就输出0；然后从后往前输出就是高位到低位输出。</p><h2 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h2><p>我们不要考虑太多类型与高精度相比较，我们可以先考虑高精度间的逻辑<del>，如果我们要比较一个高精度和另一个整数，可以采用stringstream传（此条因太过毒瘤笔者被Diss到爆而去掉，感兴趣的读者可以自己了解下stringstream）</del>。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>!=(<span class="keyword">const</span> Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(a.size()!=b.size())<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=a.size()<span class="number">-1</span>; i&gt;=<span class="number">0</span>; --i)</span><br><span class="line">        <span class="keyword">if</span>(a[i]!=b[i])<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>==(<span class="keyword">const</span> Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> !(a!=b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(a.size()!=b.size())<span class="keyword">return</span> a.size()&lt;b.size();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=a.size()<span class="number">-1</span>; i&gt;=<span class="number">0</span>; --i)</span><br><span class="line">        <span class="keyword">if</span>(a[i]!=b[i])<span class="keyword">return</span> a[i]&lt;b[i];</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&gt;(<span class="keyword">const</span> Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> b&lt;a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&lt;=(<span class="keyword">const</span> Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> !(a&gt;b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&gt;=(<span class="keyword">const</span> Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> !(a&lt;b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>对于不等于，我们可以在判断完位数后挨个比较位数；对于等于，我们可以返回非不等于。</p><p>对于小于，我们可以比较位数，然后从高位向低位比较大小；对于大于，我们可以返回反比较的小于；对于小于等于，我们可以返回非大于；对于大于等于，我们可以返回非小于。</p><h2 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a><del>逻辑运算符</del></h2><p><del>此内容已因笔者过于蒟蒻或毒瘤而被Diss到爆炸，现已划线。</del><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//bool operator!(Wint &amp;n)</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//n.check();</span></span><br><span class="line"><span class="comment">//return n==0;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//bool operator&amp;&amp;(Wint &amp;a,Wint &amp;b)</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//a.check();b.check();</span></span><br><span class="line"><span class="comment">//if(!a)return 0;</span></span><br><span class="line"><span class="comment">//if(!b)return 0;</span></span><br><span class="line"><span class="comment">//return 1;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//bool operator||(Wint &amp;a,Wint &amp;b)</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//a.check();b.check();</span></span><br><span class="line"><span class="comment">//if(a&gt;0)return 1;</span></span><br><span class="line"><span class="comment">//if(b&gt;0)return 1;</span></span><br><span class="line"><span class="comment">//return 0;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br></pre></td></tr></table></figure></p><p><del>十分的简单对不对。。。</del></p><h2 id="双目算术、赋值和自增自减运算符"><a href="#双目算术、赋值和自增自减运算符" class="headerlink" title="双目算术、赋值和自增自减运算符"></a>双目算术、赋值和自增自减运算符</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Wint&amp; <span class="keyword">operator</span>+=(Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(a.size()&lt;b.size())a.resize(b.size());</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i!=b.size();++i)a[i]+=b[i];</span><br><span class="line">    <span class="keyword">return</span> a.check();</span><br><span class="line">&#125;</span><br><span class="line">Wint <span class="keyword">operator</span>+(Wint a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> a+=b;</span><br><span class="line">&#125;</span><br><span class="line">Wint&amp; <span class="keyword">operator</span>++(Wint &amp;n)</span><br><span class="line">&#123;</span><br><span class="line">n+=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> n.check();</span><br><span class="line">&#125;</span><br><span class="line">Wint <span class="keyword">operator</span>++(Wint &amp;n,<span class="keyword">int</span> flag)</span><br><span class="line">&#123;</span><br><span class="line">Wint tmp=n;</span><br><span class="line">n+=<span class="number">1</span>;</span><br><span class="line">n.check();</span><br><span class="line"><span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>对于加法，我们先实现+=，如果a的size小，我们就要开空间，然后依次相加最后check下即可。<br>对于+可以返回a+=b。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">Wint&amp; <span class="keyword">operator</span>-=(Wint &amp;a,Wint b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(a&lt;b)swap(a,b);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i!=b.size(); a[i]-=b[i],++i)</span><br><span class="line">        <span class="keyword">if</span>(a[i]&lt;b[i])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> j=i+<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(!a[j])++j;</span><br><span class="line">            <span class="keyword">while</span>(j&gt;i)</span><br><span class="line">            &#123;</span><br><span class="line">                --a[j];</span><br><span class="line">                a[--j]+=<span class="number">10</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">return</span> a.check();</span><br><span class="line">&#125;</span><br><span class="line">Wint <span class="keyword">operator</span>-(Wint a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> a-=b;</span><br><span class="line">&#125;</span><br><span class="line">Wint&amp; <span class="keyword">operator</span>--(Wint &amp;n)</span><br><span class="line">&#123;</span><br><span class="line">n-=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> n.check();</span><br><span class="line">&#125;</span><br><span class="line">Wint <span class="keyword">operator</span>--(Wint &amp;n,<span class="keyword">int</span> flag)</span><br><span class="line">&#123;</span><br><span class="line">Wint tmp=n;</span><br><span class="line">n-=<span class="number">1</span>;</span><br><span class="line">n.check();</span><br><span class="line"><span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>对于减法，我们先实现-=，如果a小我们就要交换a和b（我们写的是高精度无符号整数），然后后依次相加最后check下即可。<br>对于-可以返回a-=b。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Wint <span class="keyword">operator</span>*(<span class="keyword">const</span> Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    Wint n;</span><br><span class="line">    n.assign(a.size()+b.size()<span class="number">-1</span>,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i!=a.size(); ++i)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j!=b.size(); ++j)</span><br><span class="line">            n[i+j]+=a[i]*b[j];</span><br><span class="line">    <span class="keyword">return</span> n.check();</span><br><span class="line">&#125;</span><br><span class="line">Wint&amp; <span class="keyword">operator</span>*=(Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> a=a*b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>对于乘法，我们需要先实现<figure class="highlight plain"><figcaption><span>* b_j$。然后对于```*</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">```cpp</span><br><span class="line">Wint divmod(Wint &amp;a,const Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    Wint ans;</span><br><span class="line">    for(int t=a.size()-b.size(); a&gt;=b; --t)</span><br><span class="line">    &#123;</span><br><span class="line">        Wint d;</span><br><span class="line">        d.assign(t+1,0);</span><br><span class="line">        d.back()=1;</span><br><span class="line">        Wint c=b*d;</span><br><span class="line">        while(a&gt;=c)</span><br><span class="line">        &#123;</span><br><span class="line">            a-=c;</span><br><span class="line">            ans+=d;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return ans;</span><br><span class="line">&#125;</span><br><span class="line">Wint operator/(Wint a,const Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    return divmod(a,b);</span><br><span class="line">&#125;</span><br><span class="line">Wint&amp; operator/=(Wint &amp;a,const Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    return a=a/b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>学过Python的读者应该知道在Python中有一个divmod函数（在Python 2.3之前不允许处理复数），这个函数在Python中把除数和余数运算结果结合起来，返回一个包含商和余数的元组(a//b,a%b)。<br>而在C++中我们写的这个函数就是除法。assign是C++string类的成员函数，用于拷贝、赋值操作，它们允许我们顺次地把一个string对象的部分内容拷贝到另一个string对象上。<br>然后写/，返回divmod(a,b)；/=返回a=a/b。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Wint&amp; <span class="keyword">operator</span>%=(Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    divmod(a,b);</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line">Wint <span class="keyword">operator</span>%(Wint a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> a%=b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="常用函数"><a href="#常用函数" class="headerlink" title="常用函数"></a>常用函数</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Wint <span class="title">pow</span><span class="params">(<span class="keyword">const</span> Wint &amp;n,<span class="keyword">const</span> Wint &amp;k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(k.empty())<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(k==<span class="number">2</span>)<span class="keyword">return</span> n*n;</span><br><span class="line">    <span class="keyword">if</span>(k.back()%<span class="number">2</span>)<span class="keyword">return</span> n*<span class="built_in">pow</span>(n,k<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">pow</span>(<span class="built_in">pow</span>(n,k/<span class="number">2</span>),<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//下面是非递归写法</span></span><br><span class="line"><span class="function">Wint <span class="title">pow</span><span class="params">(Wint n,Wint k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">Wint <span class="title">ans</span><span class="params">(<span class="number">1</span>)</span></span>;</span><br><span class="line"><span class="keyword">while</span>(k&gt;<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(k%<span class="number">2</span>&gt;<span class="number">0</span>)</span><br><span class="line">ans*=n;</span><br><span class="line">n*=n;</span><br><span class="line">k/=<span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>其实快速幂实现的思想非常好想，所以就这么写了出来。</p><h2 id="回顾"><a href="#回顾" class="headerlink" title="回顾"></a>回顾</h2><p>那么整体的写法如下<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Wint</span>:</span><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    Wint(<span class="keyword">int</span> n=<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        push_back(n);</span><br><span class="line">        check();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">Wint&amp; <span class="title">check</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(!empty()&amp;&amp;!back())pop_back();</span><br><span class="line">        <span class="keyword">if</span>(empty())<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;size(); ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            (*<span class="keyword">this</span>)[i]+=(*<span class="keyword">this</span>)[i<span class="number">-1</span>]/<span class="number">10</span>;</span><br><span class="line">            (*<span class="keyword">this</span>)[i<span class="number">-1</span>]%=<span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(back()&gt;=<span class="number">10</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            push_back(back()/<span class="number">10</span>);</span><br><span class="line">            (*<span class="keyword">this</span>)[size()<span class="number">-2</span>]%=<span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">istream&amp; <span class="keyword">operator</span>&gt;&gt;(istream &amp;is,Wint &amp;n)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">string</span> s;</span><br><span class="line">    is&gt;&gt;s;</span><br><span class="line">    n.clear();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=s.size()<span class="number">-1</span>; i&gt;=<span class="number">0</span>; --i)n.push_back(s[i]-<span class="string">'0'</span>);</span><br><span class="line">    <span class="keyword">return</span> is;</span><br><span class="line">&#125;</span><br><span class="line">ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream &amp;os,<span class="keyword">const</span> Wint &amp;n)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(n.empty())os&lt;&lt;<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=n.size()<span class="number">-1</span>; i&gt;=<span class="number">0</span>; --i)os&lt;&lt;n[i];</span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>!=(<span class="keyword">const</span> Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(a.size()!=b.size())<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=a.size()<span class="number">-1</span>; i&gt;=<span class="number">0</span>; --i)</span><br><span class="line">        <span class="keyword">if</span>(a[i]!=b[i])<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>==(<span class="keyword">const</span> Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> !(a!=b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(a.size()!=b.size())<span class="keyword">return</span> a.size()&lt;b.size();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=a.size()<span class="number">-1</span>; i&gt;=<span class="number">0</span>; --i)</span><br><span class="line">        <span class="keyword">if</span>(a[i]!=b[i])<span class="keyword">return</span> a[i]&lt;b[i];</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&gt;(<span class="keyword">const</span> Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> b&lt;a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&lt;=(<span class="keyword">const</span> Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> !(a&gt;b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&gt;=(<span class="keyword">const</span> Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> !(a&lt;b);</span><br><span class="line">&#125;</span><br><span class="line">Wint&amp; <span class="keyword">operator</span>+=(Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(a.size()&lt;b.size())a.resize(b.size());</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i!=b.size(); ++i)a[i]+=b[i];</span><br><span class="line">    <span class="keyword">return</span> a.check();</span><br><span class="line">&#125;</span><br><span class="line">Wint <span class="keyword">operator</span>+(Wint a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> a+=b;</span><br><span class="line">&#125;</span><br><span class="line">Wint&amp; <span class="keyword">operator</span>++(Wint &amp;n)</span><br><span class="line">&#123;</span><br><span class="line">n+=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> n.check();</span><br><span class="line">&#125;</span><br><span class="line">Wint <span class="keyword">operator</span>++(Wint &amp;n,<span class="keyword">int</span> flag)</span><br><span class="line">&#123;</span><br><span class="line">Wint tmp=n;</span><br><span class="line">n+=<span class="number">1</span>;</span><br><span class="line">n.check();</span><br><span class="line"><span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line">Wint&amp; <span class="keyword">operator</span>-=(Wint &amp;a,Wint b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(a&lt;b)swap(a,b);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i!=b.size(); a[i]-=b[i],++i)</span><br><span class="line">        <span class="keyword">if</span>(a[i]&lt;b[i])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> j=i+<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(!a[j])++j;</span><br><span class="line">            <span class="keyword">while</span>(j&gt;i)</span><br><span class="line">            &#123;</span><br><span class="line">                --a[j];</span><br><span class="line">                a[--j]+=<span class="number">10</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">return</span> a.check();</span><br><span class="line">&#125;</span><br><span class="line">Wint <span class="keyword">operator</span>-(Wint a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> a-=b;</span><br><span class="line">&#125;</span><br><span class="line">Wint&amp; <span class="keyword">operator</span>--(Wint &amp;n)</span><br><span class="line">&#123;</span><br><span class="line">n-=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> n.check();</span><br><span class="line">&#125;</span><br><span class="line">Wint <span class="keyword">operator</span>--(Wint &amp;n,<span class="keyword">int</span> flag)</span><br><span class="line">&#123;</span><br><span class="line">Wint tmp=n;</span><br><span class="line">n-=<span class="number">1</span>;</span><br><span class="line">n.check();</span><br><span class="line"><span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line">Wint <span class="keyword">operator</span>*(<span class="keyword">const</span> Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    Wint n;</span><br><span class="line">    n.assign(a.size()+b.size()<span class="number">-1</span>,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i!=a.size(); ++i)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j!=b.size(); ++j)</span><br><span class="line">            n[i+j]+=a[i]*b[j];</span><br><span class="line">    <span class="keyword">return</span> n.check();</span><br><span class="line">&#125;</span><br><span class="line">Wint&amp; <span class="keyword">operator</span>*=(Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> a=a*b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Wint <span class="title">divmod</span><span class="params">(Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Wint ans;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> t=a.size()-b.size(); a&gt;=b; --t)</span><br><span class="line">    &#123;</span><br><span class="line">        Wint d;</span><br><span class="line">        d.assign(t+<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">        d.back()=<span class="number">1</span>;</span><br><span class="line">        Wint c=b*d;</span><br><span class="line">        <span class="keyword">while</span>(a&gt;=c)</span><br><span class="line">        &#123;</span><br><span class="line">            a-=c;</span><br><span class="line">            ans+=d;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line">Wint <span class="keyword">operator</span>/(Wint a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> divmod(a,b);</span><br><span class="line">&#125;</span><br><span class="line">Wint&amp; <span class="keyword">operator</span>/=(Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> a=a/b;</span><br><span class="line">&#125;</span><br><span class="line">Wint&amp; <span class="keyword">operator</span>%=(Wint &amp;a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    divmod(a,b);</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line">Wint <span class="keyword">operator</span>%(Wint a,<span class="keyword">const</span> Wint &amp;b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> a%=b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Wint <span class="title">pow</span><span class="params">(<span class="keyword">const</span> Wint &amp;n,<span class="keyword">const</span> Wint &amp;k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(k.empty())<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(k==<span class="number">2</span>)<span class="keyword">return</span> n*n;</span><br><span class="line">    <span class="keyword">if</span>(k.back()%<span class="number">2</span>)<span class="keyword">return</span> n*<span class="built_in">pow</span>(n,k<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">pow</span>(<span class="built_in">pow</span>(n,k/<span class="number">2</span>),<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">////下面是非递归写法</span></span><br><span class="line"><span class="comment">//Wint pow(Wint n,Wint k)</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//Wint ans(1);</span></span><br><span class="line"><span class="comment">//while(k&gt;0)</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//if(k%2&gt;0)</span></span><br><span class="line"><span class="comment">//ans*=n;</span></span><br><span class="line"><span class="comment">//n*=n;</span></span><br><span class="line"><span class="comment">//k/=2;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//return ans;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br></pre></td></tr></table></figure></p><h1 id="高精度的用法"><a href="#高精度的用法" class="headerlink" title="高精度的用法"></a>高精度的用法</h1><p>我们在之前的定义写法中写的方式可以方便的帮助我们写。<br>例如洛谷高精度算法试炼场中的几道题<br>我们在main函数中这么写<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Wint a,b;</span><br><span class="line">    <span class="comment">//可以把b改成int型，仍能正常使用（题切不了）</span></span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b;</span><br><span class="line">    <span class="comment">//LuoguP1601 cout&lt;&lt;a+b&lt;&lt;endl;</span></span><br><span class="line">    <span class="comment">//LuoguP2142 if(a-b&lt;0)cout&lt;&lt;"-";cout&lt;&lt;a-b&lt;&lt;endl;</span></span><br><span class="line">    <span class="comment">//LuoguP1303 cout&lt;&lt;a*b&lt;&lt;endl;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//LuoguP1255</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line">Wint f[<span class="number">3</span>];</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"0\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    f[<span class="number">0</span>]=(Wint)<span class="number">1</span>;</span><br><span class="line">    f[<span class="number">1</span>]=(Wint)<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        f[i%<span class="number">3</span>]=f[(i<span class="number">-1</span>)%<span class="number">3</span>]+f[(i<span class="number">-2</span>)%<span class="number">3</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;f[n%<span class="number">3</span>]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//LuoguP1604</span></span><br><span class="line"><span class="comment">//我们先定义一个进制，然后修改check和输入输出即可</span></span><br><span class="line"><span class="keyword">int</span> jz;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Wint</span>:</span><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="function">Wint&amp; <span class="title">check</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(!empty()&amp;&amp;!back())pop_back();</span><br><span class="line">        <span class="keyword">if</span>(empty())<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;size(); ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            (*<span class="keyword">this</span>)[i]+=(*<span class="keyword">this</span>)[i<span class="number">-1</span>]/jz;</span><br><span class="line">            (*<span class="keyword">this</span>)[i<span class="number">-1</span>]%=jz;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(back()&gt;=jz)</span><br><span class="line">        &#123;</span><br><span class="line">            push_back(back()/jz);</span><br><span class="line">            (*<span class="keyword">this</span>)[size()<span class="number">-2</span>]%=jz;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">istream&amp; <span class="keyword">operator</span>&gt;&gt;(istream &amp;is,Wint &amp;n)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">string</span> s;</span><br><span class="line">    is&gt;&gt;s;</span><br><span class="line">    n.clear();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=s.size()<span class="number">-1</span>; i&gt;=<span class="number">0</span>; --i)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">if</span>(s[i]&gt;=<span class="string">'A'</span>)n.push_back(s[i]-<span class="string">'A'</span>+<span class="number">10</span>);</span><br><span class="line">    <span class="keyword">else</span> n.push_back(s[i]-<span class="string">'0'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> is;</span><br><span class="line">&#125;</span><br><span class="line">ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream &amp;os,<span class="keyword">const</span> Wint &amp;n)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(n.empty())os&lt;&lt;<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=n.size()<span class="number">-1</span>; i&gt;=<span class="number">0</span>; --i)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">char</span> tmp;</span><br><span class="line">    <span class="keyword">if</span>(n[i]&gt;<span class="number">9</span>)tmp=<span class="string">'A'</span>+n[i]<span class="number">-10</span>;</span><br><span class="line">        <span class="keyword">else</span> tmp=n[i]+<span class="string">'0'</span>;</span><br><span class="line">        os&lt;&lt;tmp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//最后main函数里</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Wint a,b;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;jz;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;a+b&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><blockquote><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://t1.picb.cc/uploads/2018/09/06/JW1a8i.png" alt="知识共享许可协议"></a></p><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://t1.picb.cc/uploads/2018/09/06/JW1bXL.png" alt="知识共享许可协议"></a></p><p>本作品采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;高精度的写法&quot;&gt;&lt;a href=&quot;#高精度的写法&quot; class=&quot;headerlink&quot; title=&quot;高精度的写法&quot;&gt;&lt;/a&gt;高精度的写法&lt;/h1&gt;&lt;p&gt;我们为了方便后来的操作，可以先使用一个struct封装内容物。&lt;br&gt;我们可以在声明一个struct的时候自
      
    
    </summary>
    
      <category term="柯基" scheme="https://williampetermatthew.github.io/categories/%E6%9F%AF%E5%9F%BA/"/>
    
    
      <category term="柯基" scheme="https://williampetermatthew.github.io/tags/%E6%9F%AF%E5%9F%BA/"/>
    
  </entry>
  
  <entry>
    <title>数据构造与对拍程序</title>
    <link href="https://williampetermatthew.github.io/blog/data-construction-and-beat-program/"/>
    <id>https://williampetermatthew.github.io/blog/data-construction-and-beat-program/</id>
    <published>2018-09-10T12:52:32.000Z</published>
    <updated>2018-10-20T14:54:16.863Z</updated>
    
    <content type="html"><![CDATA[<h1 id="数据构造"><a href="#数据构造" class="headerlink" title="数据构造"></a>数据构造</h1><p>作为一个<del>毒瘤</del>出题人，我们要学着出<del>毒瘤</del>数据<del>卡做题人</del>；作为一个<del>蒟蒻</del>做题人，我们要学着出<del>毒瘤</del>数据尝试<del>卡自己的程序并</del>调试，下面简单介绍出数据的一些方法。</p><h2 id="总程序的写法"><a href="#总程序的写法" class="headerlink" title="总程序的写法"></a>总程序的写法</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> T=<span class="number">10</span>,L=<span class="number">200</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span>* problemname=<span class="string">""</span>;<span class="comment">//your problem's name</span></span><br><span class="line"><span class="keyword">char</span> buf[L]=&#123;&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">randomint</span><span class="params">(<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> (rand()+rand()*<span class="number">32768</span>)%(r-l+<span class="number">1</span>)+l;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">make_data</span><span class="params">(<span class="keyword">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//do something</span></span><br><span class="line"><span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">srand(time(<span class="number">0</span>));</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> t=<span class="number">1</span>;t&lt;=T;++t)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cerr</span>&lt;&lt;<span class="string">"start time="</span>&lt;&lt;clock()&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">sprintf</span>(buf,<span class="string">"%s%d.in"</span>,problemname,t);</span><br><span class="line">freopen(buf,<span class="string">"w"</span>,<span class="built_in">stdout</span>);</span><br><span class="line"></span><br><span class="line">make_data(t);</span><br><span class="line"></span><br><span class="line">fclose(<span class="built_in">stdout</span>);</span><br><span class="line"><span class="built_in">cerr</span>&lt;&lt;<span class="string">"t1="</span>&lt;&lt;clock()&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">sprintf</span>(buf,<span class="string">"copy %s%d.in %s.in &gt;nul"</span>,problemname,t,problemname);</span><br><span class="line">system(buf);</span><br><span class="line"><span class="built_in">sprintf</span>(buf,<span class="string">"\"%s.exe\""</span>,problemname);</span><br><span class="line">system(buf);</span><br><span class="line"><span class="built_in">sprintf</span>(buf,<span class="string">"copy %s.out %s%d.ans &gt;nul"</span>,problemname,problemname,t);</span><br><span class="line">system(buf);</span><br><span class="line"><span class="built_in">sprintf</span>(buf,<span class="string">"del %s.in"</span>,problemname);</span><br><span class="line">system(buf);</span><br><span class="line"><span class="built_in">sprintf</span>(buf,<span class="string">"del %s.out"</span>,problemname);</span><br><span class="line">system(buf);</span><br><span class="line"><span class="built_in">cerr</span>&lt;&lt;<span class="string">"data "</span>&lt;&lt;t&lt;&lt;<span class="string">" has been made."</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cerr</span>&lt;&lt;<span class="string">"end time="</span>&lt;&lt;clock()&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>下面对上面的程序做出详细解释：</p><p><strong>请在主程序中写上函数srand，否则会导致每次制造出来的数据都一样！</strong><br>T为你要生成的数据组数，L是操作用字符串buf的长度。<br>problemname即为你题目的名称。<br>buf是操作用字符串。<br>C++中的rand()函数可以随机生成一个$[-2^{15},2^{15})$以内<br>的整数，利用组合我们便可以生成一个。randomint是生成一个int范围（$[-2^{31},2^{31})$）内的整数。如果你需要生成一个long long范围（$[-2^{63},2^{63})$）的整数，你可以使用下面的函数：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">randomlonglong</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> l,<span class="keyword">long</span> <span class="keyword">long</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> (rand()*<span class="number">1l</span>l+rand()*<span class="number">32768l</span>l+rand()*<span class="number">2147483648l</span>l+rand()*<span class="number">140737488355328l</span>l)%(r-l+<span class="number">1l</span>l)+l;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>make_data函数是你需要修改的函数，你在这里输出数据，直接使用标准输出即可，如果你需要按数据点生成，可以使用传过来的t，对于一个随机数可以采用randomint函数实现。<br>最后是主函数，这里面写的是操作，你可以在运行程序时看到程序的运行时间，可以简单检验std的时限。</p><p>这里讲解三个函数的使用方法：</p><ol><li>system用途为执行传过来的参数的字符串内容。例如：system(“pause”)执行的结果为DOS命令中执行pause指令的结果，即“请按任意键继续. . . ”；</li><li>sprintf用法基本同printf，只不过printf是经过缓存区向标准输出输出内容，而sprintf是向第一参数传过来的字符串中写入内容。</li><li>cerr用法同cout，作用是不经过缓存区直接向标准输出输出内容，只会在显示区输出而不会向重定向文件中输出。</li></ol><p><strong>生成时需要注意要把和题目名称相同的标程cpp（例如program.cpp）放在和datamaker同一个文件夹下，同时要注意标程需要写文件输入输出。</strong></p><p>如果在system函数行编译错误，请手动引用&lt;windows.h&gt;库。</p><h2 id="简单数据生成"><a href="#简单数据生成" class="headerlink" title="简单数据生成"></a>简单数据生成</h2><h3 id="1-n的随机排列"><a href="#1-n的随机排列" class="headerlink" title="1~n的随机排列"></a>1~n的随机排列</h3><p>方法一：<br>利用STL库中的next_permutation函数。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> n=randomint(<span class="number">1</span>,<span class="number">1e5</span>);</span><br><span class="line"><span class="keyword">int</span> a[<span class="number">100005</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)a[i]=i;</span><br><span class="line"><span class="keyword">int</span> T=randomint(<span class="number">1</span>,n<span class="comment">/*或者XJB写的一个数，反正要小于n!*/</span>);</span><br><span class="line"><span class="keyword">while</span>(T--)next_permutation(a+<span class="number">1</span>,a+n+<span class="number">1</span>);</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;n&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)<span class="built_in">cout</span>&lt;&lt;a[i]&lt;&lt;<span class="string">" "</span>;</span><br></pre></td></tr></table></figure></p><ul><li>优点：写着简单。</li><li>缺点：next_permutation返回的其实是一个bool，当数列排序到最后一组排列时便不可再次排列，一般是n比较小的时候会出现。</li></ul><p>方法二：<br>利用bool数组判断是否出现。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> n=randomint(<span class="number">1</span>,<span class="number">1e5</span>);</span><br><span class="line"><span class="keyword">int</span> a[<span class="number">100005</span>];</span><br><span class="line"><span class="keyword">bool</span> b[<span class="number">100005</span>];</span><br><span class="line"><span class="keyword">int</span> l=<span class="number">1</span>,r=n;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>,x;i&lt;=n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span>(b[l])l++;</span><br><span class="line"><span class="keyword">while</span>(b[r])r--;</span><br><span class="line"><span class="keyword">do</span>&#123;x=randomint(l,r);&#125;<span class="keyword">while</span>(b[x]);b[x]=<span class="number">1</span>;</span><br><span class="line">a[i]=x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;n&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)<span class="built_in">cout</span>&lt;&lt;a[i]&lt;&lt;<span class="string">" "</span>;</span><br></pre></td></tr></table></figure></p><ul><li>优点：可以算是完全随机的排列。</li><li>缺点：写着没那么简单，刚开始这样写可能不会写l和r，这时就会使程序运行时间在某些时候极长（这时候建议srand(19260817)）。</li></ul><h3 id="字符（串）生成"><a href="#字符（串）生成" class="headerlink" title="字符（串）生成"></a>字符（串）生成</h3><p><img src="https://t1.picb.cc/uploads/2018/09/21/J780Ki.jpg" alt="0-127"><img src="https://t1.picb.cc/uploads/2018/09/21/J78XeL.jpg" alt="128-255"></p><p>正如上表所示，我们要生成字符串的时候需要注意范围（0~127，128~255实际有问题），并且33~126的值才有实际意义。<br>实际我们写的时候需要写<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> c=randomint(<span class="number">33</span>,<span class="number">126</span>);</span><br></pre></td></tr></table></figure></p><p>同时，如果你需要一个字符串，可以直接写<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> s;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=len;i++)</span><br><span class="line">s+=(<span class="keyword">char</span>)randomint(<span class="number">33</span>,<span class="number">126</span>);</span><br></pre></td></tr></table></figure></p><h2 id="图"><a href="#图" class="headerlink" title="图"></a>图</h2><h3 id="n个点m条边的图"><a href="#n个点m条边的图" class="headerlink" title="n个点m条边的图"></a>n个点m条边的图</h3><p>方法是每次随机选择两个点，并连接一条边。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> n=randomint(<span class="number">1</span>,<span class="number">1e5</span>),m=randomint(<span class="number">1</span>,<span class="number">1e5</span>);</span><br><span class="line"><span class="keyword">int</span> bian[<span class="number">100005</span>][<span class="number">2</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>,x,y;i&lt;=m;i++)</span><br><span class="line">&#123;</span><br><span class="line">x=randomint(<span class="number">1</span>,n);</span><br><span class="line">y=randomint(<span class="number">1</span>,n);</span><br><span class="line">bian[i][<span class="number">0</span>]=x;</span><br><span class="line">bian[i][<span class="number">1</span>]=y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>,n,m);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>,bian[i][<span class="number">0</span>],bian[i][<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="无自环？"><a href="#无自环？" class="headerlink" title="无自环？"></a>无自环？</h3><p>只需将<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">y=randomint(<span class="number">1</span>,n);</span><br></pre></td></tr></table></figure></p><p>替换成<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span>&#123;y=randomint(<span class="number">1</span>,n);&#125;<span class="keyword">while</span>(x==y);</span><br></pre></td></tr></table></figure></p><p>即可。</p><h3 id="无重边？"><a href="#无重边？" class="headerlink" title="无重边？"></a>无重边？</h3><p>增加map判重即可，但是要注意你的m限制。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//无向无重边</span></span><br><span class="line"><span class="keyword">int</span> n=randomint(<span class="number">1</span>,<span class="number">1e5</span>),m;</span><br><span class="line"><span class="keyword">int</span> bian[<span class="number">100005</span>][<span class="number">2</span>];</span><br><span class="line"><span class="built_in">map</span>&lt;pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt;,<span class="keyword">int</span>&gt;ma;</span><br><span class="line"><span class="keyword">do</span>&#123;m=randomint(<span class="number">1</span>,<span class="number">1e5</span>);&#125;<span class="keyword">while</span>(m*<span class="number">2</span>&gt;n*(n<span class="number">-1</span>));</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>,x,y;i&lt;=m;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">&#123;</span><br><span class="line">x=randomint(<span class="number">1</span>,n);</span><br><span class="line"><span class="keyword">do</span>&#123;y=randomint(<span class="number">1</span>,n);&#125;<span class="keyword">while</span>(x==y);</span><br><span class="line">&#125;<span class="keyword">while</span>(ma.count(make_pair(min(x,y),max(x,y))));</span><br><span class="line">ma.insert(make_pair(make_pair(min(x,y),max(x,y)),i));</span><br><span class="line">bian[i][<span class="number">0</span>]=x;</span><br><span class="line">bian[i][<span class="number">1</span>]=y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>,n,m);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>,bian[i][<span class="number">0</span>],bian[i][<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//有向无重边</span></span><br><span class="line"><span class="keyword">int</span> n=randomint(<span class="number">1</span>,<span class="number">1e5</span>),m;</span><br><span class="line"><span class="keyword">int</span> bian[<span class="number">100005</span>][<span class="number">2</span>];</span><br><span class="line"><span class="built_in">map</span>&lt;pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt;,<span class="keyword">int</span>&gt;ma;</span><br><span class="line"><span class="keyword">do</span>&#123;m=randomint(<span class="number">1</span>,<span class="number">1e5</span>);&#125;<span class="keyword">while</span>(m&gt;n*(n<span class="number">-1</span>));</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>,x,y;i&lt;=m;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">&#123;</span><br><span class="line">x=randomint(<span class="number">1</span>,n);</span><br><span class="line"><span class="keyword">do</span>&#123;y=randomint(<span class="number">1</span>,n);&#125;<span class="keyword">while</span>(x==y);</span><br><span class="line">&#125;<span class="keyword">while</span>(ma.count(make_pair(x,y));</span><br><span class="line">ma.insert(make_pair(make_pair(x,y),i));</span><br><span class="line">bian[i][<span class="number">0</span>]=x;</span><br><span class="line">bian[i][<span class="number">1</span>]=y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>,n,m);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>,bian[i][<span class="number">0</span>],bian[i][<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="一棵树？"><a href="#一棵树？" class="headerlink" title="一棵树？"></a>一棵树？</h3><p>每次选择已经连接的一个节点和没连接的一个节点建边即可。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> n=randomint(<span class="number">1</span>,<span class="number">1e5</span>);</span><br><span class="line"><span class="keyword">int</span> bian[<span class="number">100005</span>][<span class="number">2</span>];</span><br><span class="line"><span class="keyword">bool</span> dian[<span class="number">100005</span>];</span><br><span class="line"><span class="keyword">int</span> x=randomint(<span class="number">1</span>,n),y;</span><br><span class="line"><span class="keyword">do</span>&#123;y=randomint(<span class="number">1</span>,n);&#125;<span class="keyword">while</span>(x==y);</span><br><span class="line">bian[<span class="number">1</span>][<span class="number">0</span>]=x;</span><br><span class="line">bian[<span class="number">1</span>][<span class="number">1</span>]=y;</span><br><span class="line">dian[x]=<span class="number">1</span>;</span><br><span class="line">dian[y]=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">do</span>&#123;x=randomint(<span class="number">1</span>,n);&#125;<span class="keyword">while</span>(!dian[x]);</span><br><span class="line"><span class="keyword">do</span>&#123;y=randomint(<span class="number">1</span>,n);&#125;<span class="keyword">while</span>(dian[y]);</span><br><span class="line">bian[i][<span class="number">0</span>]=x;</span><br><span class="line">bian[i][<span class="number">1</span>]=y;</span><br><span class="line">dian[x]=<span class="number">1</span>;</span><br><span class="line">dian[y]=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,n);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>,bian[i][<span class="number">0</span>],bian[i][<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="一条链？"><a href="#一条链？" class="headerlink" title="一条链？"></a>一条链？</h3><p>树的特殊情况，加上每个点访问次数即可。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> n=randomint(<span class="number">1</span>,<span class="number">1e5</span>);</span><br><span class="line"><span class="keyword">int</span> bian[<span class="number">100005</span>][<span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> dian[<span class="number">100005</span>];</span><br><span class="line"><span class="keyword">int</span> x=randomint(<span class="number">1</span>,n),y;</span><br><span class="line"><span class="keyword">do</span>&#123;y=randomint(<span class="number">1</span>,n);&#125;<span class="keyword">while</span>(x==y);</span><br><span class="line">bian[<span class="number">1</span>][<span class="number">0</span>]=x;</span><br><span class="line">bian[<span class="number">1</span>][<span class="number">1</span>]=y;</span><br><span class="line">dian[x]=<span class="number">1</span>;</span><br><span class="line">dian[y]=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">do</span>&#123;x=randomint(<span class="number">1</span>,n);&#125;<span class="keyword">while</span>(!dian[x]||dian[x]==<span class="number">2</span>);</span><br><span class="line"><span class="keyword">do</span>&#123;y=randomint(<span class="number">1</span>,n);&#125;<span class="keyword">while</span>(dian[y]);</span><br><span class="line">bian[i][<span class="number">0</span>]=x;</span><br><span class="line">bian[i][<span class="number">1</span>]=y;</span><br><span class="line">dian[x]=<span class="number">2</span>;</span><br><span class="line">dian[y]=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,n);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>,bian[i][<span class="number">0</span>],bian[i][<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="菊花图？"><a href="#菊花图？" class="headerlink" title="菊花图？"></a>菊花图？</h3><p>树的特殊情况。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> n=randomint(<span class="number">1</span>,<span class="number">1e5</span>),s=randomint(<span class="number">1</span>,n);</span><br><span class="line"><span class="keyword">int</span> bian[<span class="number">100005</span>][<span class="number">2</span>];</span><br><span class="line"><span class="keyword">bool</span> dian[<span class="number">100005</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>,x,y;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line">x=s;</span><br><span class="line"><span class="keyword">do</span>&#123;y=randomint(<span class="number">1</span>,n);&#125;<span class="keyword">while</span>(dian[y]);</span><br><span class="line">bian[i][<span class="number">0</span>]=x;</span><br><span class="line">bian[i][<span class="number">1</span>]=y;</span><br><span class="line">dian[x]=<span class="number">2</span>;</span><br><span class="line">dian[y]=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,n);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>,bian[i][<span class="number">0</span>],bian[i][<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="蒲公英？"><a href="#蒲公英？" class="headerlink" title="蒲公英？"></a>蒲公英？</h3><p>菊花图+一条链即可。</p><h3 id="连通无向图？"><a href="#连通无向图？" class="headerlink" title="连通无向图？"></a>连通无向图？</h3><p>在树的基础上连边即可<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> n=randomint(<span class="number">1</span>,<span class="number">5</span>),m;</span><br><span class="line"><span class="keyword">int</span> bian[<span class="number">100005</span>][<span class="number">2</span>];</span><br><span class="line"><span class="keyword">bool</span> dian[<span class="number">100005</span>];</span><br><span class="line"><span class="built_in">map</span>&lt;pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt;,<span class="keyword">int</span>&gt;ma;</span><br><span class="line"><span class="keyword">do</span>&#123;m=randomint(<span class="number">1</span>,<span class="number">1e5</span>);&#125;<span class="keyword">while</span>(m*<span class="number">2</span>&gt;n*(n<span class="number">-1</span>));</span><br><span class="line"><span class="keyword">int</span> x=randomint(<span class="number">1</span>,n),y;</span><br><span class="line"><span class="keyword">do</span>&#123;y=randomint(<span class="number">1</span>,n);&#125;<span class="keyword">while</span>(x==y);</span><br><span class="line">bian[<span class="number">1</span>][<span class="number">0</span>]=x;</span><br><span class="line">bian[<span class="number">1</span>][<span class="number">1</span>]=y;</span><br><span class="line">dian[x]=<span class="number">1</span>;</span><br><span class="line">dian[y]=<span class="number">1</span>;</span><br><span class="line">ma.insert(make_pair(make_pair(min(x,y),max(x,y)),<span class="number">1</span>));</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">do</span>&#123;x=randomint(<span class="number">1</span>,n);&#125;<span class="keyword">while</span>(!dian[x]);</span><br><span class="line"><span class="keyword">do</span>&#123;y=randomint(<span class="number">1</span>,n);&#125;<span class="keyword">while</span>(dian[y]);</span><br><span class="line">bian[i][<span class="number">0</span>]=x;</span><br><span class="line">bian[i][<span class="number">1</span>]=y;</span><br><span class="line">dian[x]=<span class="number">1</span>;</span><br><span class="line">dian[y]=<span class="number">1</span>;</span><br><span class="line">ma.insert(make_pair(make_pair(min(x,y),max(x,y)),i));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=n;i&lt;=m;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">&#123;</span><br><span class="line">x=randomint(<span class="number">1</span>,n);</span><br><span class="line"><span class="keyword">do</span>&#123;y=randomint(<span class="number">1</span>,n);&#125;<span class="keyword">while</span>(x==y);</span><br><span class="line">&#125;<span class="keyword">while</span>(ma.count(make_pair(min(x,y),max(x,y))));</span><br><span class="line">ma.insert(make_pair(make_pair(min(x,y),max(x,y)),i));</span><br><span class="line">bian[i][<span class="number">0</span>]=x;</span><br><span class="line">bian[i][<span class="number">1</span>]=y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>,n,m);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>,bian[i][<span class="number">0</span>],bian[i][<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h1 id="对拍程序"><a href="#对拍程序" class="headerlink" title="对拍程序"></a>对拍程序</h1><p>在考场上，一般会写一个正确的暴力和自己尝试写的正解，为了校验自己程序的正确性，我们可以利用上面所述的数据构造程序并写一个对拍程序来校验程序的正确性。</p><h2 id="使用bat文件校验"><a href="#使用bat文件校验" class="headerlink" title="使用bat文件校验"></a>使用bat文件校验</h2><p>我们知道Windows系统自带的DOS命令可以很方便的帮助我们完成校验任务，我们不妨学着写一个简单的bat文件方便快捷地进行我们的对拍。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">@echo off</span><br><span class="line">:again</span><br><span class="line">data.exe &gt; problemname.in</span><br><span class="line">force.exe &lt; problemname.in &gt; problemname.ans</span><br><span class="line">program.exe &lt; problemname.in &gt; problemname.out</span><br><span class="line">fc problemname.ans problemname.out</span><br><span class="line">if not errorlevel 1 goto again</span><br><span class="line">pause</span><br></pre></td></tr></table></figure></p><p>下面对上面的bat文件做出详细解释：</p><p><a href="https://my.oschina.net/echolee1987" target="_blank" rel="noopener">@echo</a> off的作用是关闭无关显示，如果没有这行，你会看到一堆提示，这都是毫无必要的信息。<br>:again这里是声明一个again名称的运行节点，使执行命令时能够跳转到这行。<br>下面三行分别是 数据生成器 暴力程序 你的程序 三个<strong>已经编译过</strong>的程序。如果你的程序已经写了文件输入输出，请将这三行替换成下面的三行即可。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">data.exe</span><br><span class="line">force.exe</span><br><span class="line">program.exe</span><br></pre></td></tr></table></figure></p><p>fc是文件比较命令，如果文件比较不出差异会返回0，否则会返回1。<br>if not errorlevel 1 goto again是指如果没有返回1则执行跳转至again运行节点。<br>pause就是暂停程序。</p><p>如果我们的程序已经拍出了不同，我们就应该暂停并查看数据进行调试。</p><p><strong>需要注意的一点是，对拍的时候，需要把已经编译过的数据生成器、暴力程序、你的程序和对拍bat放到同一个文件夹下。</strong></p><h2 id="使用C-写法校验"><a href="#使用C-写法校验" class="headerlink" title="使用C++写法校验"></a>使用C++写法校验</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">system(<span class="string">"data.exe &gt; problemname.in"</span>);</span><br><span class="line">system(<span class="string">"force.exe &lt; problemname.in &gt; problemname.ans"</span>);</span><br><span class="line">system(<span class="string">"program.exe &lt; problemname.in &gt; problemname.out"</span>);</span><br><span class="line"><span class="keyword">if</span>(system(<span class="string">"fc problemname.ans problemname.out"</span>))<span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>同bat的写法，其实就是用C++的system函数执行那些命令而已，但是与bat不同的是此处fc命令的返回值会直接给执行该条命令的system函数，所以不用再写if指令。这样的好处是节省了大脑记忆if命令的空间<del>（当然我作为一个修计算机的肯定是会这条指令的）</del>。</p><p>另外，同bat写法一样，如果你的程序已经写了文件输入输出，请将这三行替换成下面的三行即可。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">system(<span class="string">"data.exe"</span>);</span><br><span class="line">system(<span class="string">"force.exe"</span>);</span><br><span class="line">system(<span class="string">"program.exe"</span>);</span><br></pre></td></tr></table></figure></p><p>如果在system函数行编译错误，请手动引用&lt;windows.h&gt;库。</p><h2 id="次数的显示"><a href="#次数的显示" class="headerlink" title="次数的显示"></a>次数的显示</h2><h3 id="bat"><a href="#bat" class="headerlink" title="bat"></a>bat</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">@echo off</span><br><span class="line">set t=1</span><br><span class="line">:again</span><br><span class="line">set /a t+=1</span><br><span class="line">echo times: %t%</span><br><span class="line">data.exe &gt; problemname.in</span><br><span class="line">force.exe &lt; problemname.in &gt; problemname.ans</span><br><span class="line">program.exe &lt; problemname.in &gt; problemname.out</span><br><span class="line">fc problemname.ans problemname.out</span><br><span class="line">if not errorlevel 1 goto again</span><br><span class="line">pause</span><br></pre></td></tr></table></figure><h3 id="C"><a href="#C" class="headerlink" title="C++"></a>C++</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> t=<span class="number">1</span>;t;t++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"times: %d\n"</span>,t);</span><br><span class="line">system(<span class="string">"data.exe &gt; problemname.in"</span>);</span><br><span class="line">system(<span class="string">"force.exe &lt; problemname.in &gt; problemname.ans"</span>);</span><br><span class="line">system(<span class="string">"program.exe &lt; problemname.in &gt; problemname.out"</span>);</span><br><span class="line"><span class="keyword">if</span>(system(<span class="string">"fc problemname.ans problemname.out"</span>))<span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="时间的显示"><a href="#时间的显示" class="headerlink" title="时间的显示"></a>时间的显示</h2><h3 id="bat-1"><a href="#bat-1" class="headerlink" title="bat"></a>bat</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">@echo off</span><br><span class="line">:again</span><br><span class="line">set t1=%time:~0,2%%time:~3,2%%time:~6,2%</span><br><span class="line">data.exe &gt; problemname.in</span><br><span class="line">set t2=%time:~0,2%%time:~3,2%%time:~6,2%</span><br><span class="line">set /a t3=%t2%-%t1%</span><br><span class="line">echo datatime=%t3% ms</span><br><span class="line">set t1=%time:~0,2%%time:~3,2%%time:~6,2%</span><br><span class="line">force.exe &lt; problemname.in &gt; problemname.ans</span><br><span class="line">set t2=%time:~0,2%%time:~3,2%%time:~6,2%</span><br><span class="line">set /a t3=%t2%-%t1%</span><br><span class="line">echo forcetime=%t3% ms</span><br><span class="line">set t1=%time:~0,2%%time:~3,2%%time:~6,2%</span><br><span class="line">program.exe &lt; problemname.in &gt; problemname.out</span><br><span class="line">set t2=%time:~0,2%%time:~3,2%%time:~6,2%</span><br><span class="line">set /a t3=%t2%-%t1%</span><br><span class="line">echo programtime=%t3% ms</span><br><span class="line">fc problemname.ans problemname.out</span><br><span class="line">if not errorlevel 1 goto again</span><br><span class="line">pause</span><br></pre></td></tr></table></figure><h3 id="C-1"><a href="#C-1" class="headerlink" title="C++"></a>C++</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> t1=clock(),t2,t3;</span><br><span class="line">system(<span class="string">"data.exe &gt; problemname.in"</span>);</span><br><span class="line">t2=clock();</span><br><span class="line">t3=t2-t1;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"datatime=%u ms\n"</span>,t3);</span><br><span class="line">t1=clock();</span><br><span class="line">system(<span class="string">"force.exe &lt; problemname.in &gt; problemname.ans"</span>);</span><br><span class="line">t2=clock();</span><br><span class="line">t3=t2-t1;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"force   time=%u ms\n"</span>,t3);</span><br><span class="line">t1=clock();</span><br><span class="line">system(<span class="string">"program.exe &lt; problemname.in &gt; problemname.out"</span>);</span><br><span class="line">t2=clock();</span><br><span class="line">t3=t2-t1;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"program time=%u ms\n"</span>,t3);</span><br><span class="line"><span class="keyword">if</span>(system(<span class="string">"fc problemname.ans problemname.out"</span>))<span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>文件输入输出时替换模式参照上文。</p><hr><blockquote><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://t1.picb.cc/uploads/2018/09/06/JW1a8i.png" alt="知识共享许可协议"></a></p><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://t1.picb.cc/uploads/2018/09/06/JW1bXL.png" alt="知识共享许可协议"></a></p><p>本作品采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;数据构造&quot;&gt;&lt;a href=&quot;#数据构造&quot; class=&quot;headerlink&quot; title=&quot;数据构造&quot;&gt;&lt;/a&gt;数据构造&lt;/h1&gt;&lt;p&gt;作为一个&lt;del&gt;毒瘤&lt;/del&gt;出题人，我们要学着出&lt;del&gt;毒瘤&lt;/del&gt;数据&lt;del&gt;卡做题人&lt;/del&gt;；作为一个
      
    
    </summary>
    
      <category term="柯基" scheme="https://williampetermatthew.github.io/categories/%E6%9F%AF%E5%9F%BA/"/>
    
    
      <category term="柯基" scheme="https://williampetermatthew.github.io/tags/%E6%9F%AF%E5%9F%BA/"/>
    
  </entry>
  
  <entry>
    <title>输入输出优化代码</title>
    <link href="https://williampetermatthew.github.io/blog/Input-and-output-optimization/"/>
    <id>https://williampetermatthew.github.io/blog/Input-and-output-optimization/</id>
    <published>2018-07-22T07:50:22.000Z</published>
    <updated>2018-10-20T14:53:47.786Z</updated>
    
    <content type="html"><![CDATA[<h2 id="输入输出效率比较"><a href="#输入输出效率比较" class="headerlink" title="输入输出效率比较"></a>输入输出效率比较</h2><p>一份摘自LOJ的一份读入测试数据，若干读入整数速度测试的结果（单位：毫秒）。<br>输入：$3×10^6$个在区间中随机生成的十进制整数。</p><table><thead><tr><th>#</th><th>Lanuage</th><th>$[0,2)$</th><th>$[0,8)$</th><th>$[0,2^{15})$</th><th>$[0,2^{31})$</th><th>$[0,2^{63})$</th></tr></thead><tbody><tr><td>fread</td><td>G++ 5.4.0 (-O2)</td><td>13</td><td>13</td><td>39</td><td>70</td><td>111</td></tr><tr><td>getchar</td><td>G++ 5.4.0 (-O2)</td><td>58</td><td>73</td><td>137</td><td>243</td><td>423</td></tr><tr><td>cin(关闭同步)</td><td>G++ 5.4.0 (-O2)</td><td>161</td><td>147</td><td>205</td><td>270</td><td>394</td></tr><tr><td>cin</td><td>G++ 5.4.0 (-O2)</td><td>442</td><td>429</td><td>706</td><td>1039</td><td>1683</td></tr><tr><td>scanf</td><td>G++ 5.4.0 (-O2)</td><td>182</td><td>175</td><td>256</td><td>368</td><td>574</td></tr></tbody></table><p>下面水下一些常用的输出输出方式：</p><h2 id="cin-cout"><a href="#cin-cout" class="headerlink" title="cin/cout"></a>cin/cout</h2><p>采用C++的特性通配流式输入输出的好处是不用处理变量类型，直接写就可以；但是根据上表可以看到，这种输入输出方式十分的耗时，并不适用于大数据编程。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a;</span><br><span class="line"><span class="keyword">short</span> b;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> c;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;a&lt;&lt;b&lt;&lt;c;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="scanf-printf"><a href="#scanf-printf" class="headerlink" title="scanf/printf"></a>scanf/printf</h2><p>采用传统C语言的输入输出的好处是节省时间，适用于大数据编程，一般的题目都可以用这种方式输入输出来通过；缺点是必须对应数据的类型而且不能少”,”，否则就会CE，scanf不能少”&amp;”否则会导致RE，printf不能加”&amp;”，否则会输出奇奇怪怪的东西（地址）。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a;</span><br><span class="line"><span class="keyword">short</span> b;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> c;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%hd%lld"</span>,&amp;a,&amp;b,&amp;c);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d%hd%lld"</span>,a,b,c);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="cin-cout（关闭同步）"><a href="#cin-cout（关闭同步）" class="headerlink" title="cin/cout（关闭同步）"></a>cin/cout（关闭同步）</h2><p>我们可以通过写关闭同步的方式来加快流式输入输出，这种方式的好处是可以加快速度，甚至比刚才介绍的传统输入输出方式还要快；但是请注意：请不要在关闭同步之后采用scanf及printf输入输出，否则后果自负！<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">ios::sync_with_stdio(<span class="literal">false</span>);<span class="comment">//警告：请不要在关闭同步之后采用scanf及printf输入输出，否则后果自负！</span></span><br><span class="line"><span class="keyword">int</span> a;</span><br><span class="line"><span class="keyword">short</span> b;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> c;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;a&lt;&lt;b&lt;&lt;c;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="普通版（基于getchar-putchar）优化："><a href="#普通版（基于getchar-putchar）优化：" class="headerlink" title="普通版（基于getchar/putchar）优化："></a>普通版（基于getchar/putchar）优化：</h2><p>有些时候我们会因为程序的常数不够优秀而被大数据卡爆，或者我们希望暴力能够得到略微高一点的分数，这时候我们就可以采用基于getchar和putchar函数的输入输出优化。一般见到的输入优化定义的函数名是read，但是经过我多次运用，发现我一般用到的情况都是scanf被卡后才用的，所以为了方便我切换函数我使用scan定义函数。</p><p>输入优化：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> __Type_of_scan&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">scan</span><span class="params">(__Type_of_scan &amp;x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">__Type_of_scan f=<span class="number">1</span>;x=<span class="number">0</span>;<span class="keyword">char</span> s=getchar();</span><br><span class="line"><span class="keyword">while</span>(s&lt;<span class="string">'0'</span>||s&gt;<span class="string">'9'</span>)&#123;<span class="keyword">if</span>(s==<span class="string">'-'</span>)f=<span class="number">-1</span>;s=getchar();&#125;</span><br><span class="line"><span class="keyword">while</span>(s&gt;=<span class="string">'0'</span>&amp;&amp;s&lt;=<span class="string">'9'</span>)&#123;x=x*<span class="number">10</span>+s-<span class="string">'0'</span>;s=getchar();&#125;</span><br><span class="line">x*=f;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>用法示例：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a;</span><br><span class="line"><span class="keyword">short</span> b;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> c;</span><br><span class="line">scan(a),scan(b),scan(c);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>输出优化：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> __Type_of_print&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(__Type_of_print x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(x&lt;<span class="number">0</span>)&#123;<span class="built_in">putchar</span>(<span class="string">'-'</span>);x=-x;&#125;</span><br><span class="line"><span class="keyword">if</span>(x&gt;<span class="number">9</span>)print(x/<span class="number">10</span>);</span><br><span class="line"><span class="built_in">putchar</span>(x%<span class="number">10</span>+<span class="string">'0'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>用法示例：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a=<span class="number">2</span>;</span><br><span class="line"><span class="keyword">short</span> b=<span class="number">3</span>;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> c=<span class="number">3</span>;</span><br><span class="line">print(a),print(b),print(c);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="黑科技优化（基于fread-fwrite）："><a href="#黑科技优化（基于fread-fwrite）：" class="headerlink" title="黑科技优化（基于fread/fwrite）："></a>黑科技优化（基于fread/fwrite）：</h2><p>其实这篇博客之前一直都是基于getchar和putchar函数的输入输出优化。直到2018年9月2日我在学校的一次模拟赛中O(n)算法被毒瘤出题人的数据卡爆，我才开始使用基于fread和fwrite函数的输入输出优化。同之前所说的一样，这里所定义的函数名均为之前的优化代码前加”_”的名字，即_scan和_print。</p><p>其实fread和fwrite有个缺点就是本地测样例比较麻烦（也有可能是我写的代码太蒟蒻了），而且<strong>采用_print函数后，你需要运行fsh函数！！！</strong></p><p>输入优化：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">char</span> <span class="title">gc</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">char</span> buf[<span class="number">100000</span>],*p1=buf,*p2=buf;</span><br><span class="line"><span class="keyword">return</span> p1==p2&amp;&amp;(p2=(p1=buf)+fread(buf,<span class="number">1</span>,<span class="number">100000</span>,<span class="built_in">stdin</span>),p1==p2)?EOF:*p1++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> __Type_of__scan&gt;</span><br><span class="line"><span class="keyword">void</span> _scan(__Type_of__scan &amp;x)</span><br><span class="line">&#123;</span><br><span class="line">__Type_of__scan f=<span class="number">1</span>;x=<span class="number">0</span>;<span class="keyword">char</span> s=gc();</span><br><span class="line"><span class="keyword">while</span>(s&lt;<span class="string">'0'</span>||s&gt;<span class="string">'9'</span>)&#123;<span class="keyword">if</span>(s==<span class="string">'-'</span>)f=<span class="number">-1</span>;s=gc();&#125;</span><br><span class="line"><span class="keyword">while</span>(s&gt;=<span class="string">'0'</span>&amp;&amp;s&lt;=<span class="string">'9'</span>)&#123;x=x*<span class="number">10</span>+s-<span class="string">'0'</span>;s=gc();&#125;</span><br><span class="line">x*=f;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>用法示例：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a;</span><br><span class="line"><span class="keyword">short</span> b;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> c;</span><br><span class="line">_scan(a),_scan(b),_scan(c);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>输出优化：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> buf[<span class="number">100000</span>],*pp=buf;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pc</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(pp-buf==<span class="number">100000</span>)fwrite(buf,<span class="number">1</span>,<span class="number">100000</span>,<span class="built_in">stdout</span>),pp=buf;</span><br><span class="line">*pp++=c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> __Type_of__print&gt;</span><br><span class="line"><span class="keyword">void</span> _print(__Type_of__print x)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(x&lt;<span class="number">0</span>)&#123;pc(<span class="string">'-'</span>);x=-x;&#125;</span><br><span class="line"><span class="keyword">if</span>(x&gt;<span class="number">9</span>)_print(x/<span class="number">10</span>);</span><br><span class="line">pc(x%<span class="number">10</span>+<span class="string">'0'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fsh</span><span class="params">()</span></span>&#123;fwrite(buf,<span class="number">1</span>,pp-buf,<span class="built_in">stdout</span>);pp=buf;&#125;</span><br></pre></td></tr></table></figure></p><p>用法示例：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a=<span class="number">2</span>;</span><br><span class="line"><span class="keyword">short</span> b=<span class="number">3</span>;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> c=<span class="number">3</span>;</span><br><span class="line">_print(a),fsh(),_print(b),fsh(),_print(c),fsh();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><blockquote><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://t1.picb.cc/uploads/2018/09/06/JW1a8i.png" alt="知识共享许可协议"></a></p><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://t1.picb.cc/uploads/2018/09/06/JW1bXL.png" alt="知识共享许可协议"></a></p><p>本作品采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;输入输出效率比较&quot;&gt;&lt;a href=&quot;#输入输出效率比较&quot; class=&quot;headerlink&quot; title=&quot;输入输出效率比较&quot;&gt;&lt;/a&gt;输入输出效率比较&lt;/h2&gt;&lt;p&gt;一份摘自LOJ的一份读入测试数据，若干读入整数速度测试的结果（单位：毫秒）。&lt;br&gt;输入：$
      
    
    </summary>
    
      <category term="柯基" scheme="https://williampetermatthew.github.io/categories/%E6%9F%AF%E5%9F%BA/"/>
    
    
      <category term="柯基" scheme="https://williampetermatthew.github.io/tags/%E6%9F%AF%E5%9F%BA/"/>
    
  </entry>
  
  <entry>
    <title>题解 T27533 【[开昕生日愚人题#6]无规律数列】</title>
    <link href="https://williampetermatthew.github.io/blog/solution-t27533/"/>
    <id>https://williampetermatthew.github.io/blog/solution-t27533/</id>
    <published>2018-04-18T07:08:00.000Z</published>
    <updated>2018-09-08T10:10:14.261Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.luogu.org/problemnew/show/T27533" target="_blank" rel="noopener">LuoguT27533</a>:</p><p>拿到这组数蒙了？为了方便大家找规律，我在出样例时特意给大家又多往后延伸了一位n==6时的样例。</p><p>0pts：知道我的题【U22412 <a href="https://www.luogu.org/problemnew/show/U22412" target="_blank" rel="noopener">PP游戏#5 种树游戏（Tree Game）</a>】的朋友可能会根据$3\leq n \leq 6$时的数列$\begin{Bmatrix}1&amp;1&amp;2&amp;3&amp; \cdots \end{Bmatrix}$以为是我PP游戏#5中n==2时的斐波那契数列然后一看$n\leq16$就打表输出，结果就全WA了。</p><p>40pts：在这里科普的是，这个数列真的是个毫无规律的数列，但也并不是完全没有，真正的做法是百度一下这个数列，然后就出来了一个<a href="http://v.youku.com/v_show/id_XMTMxNzQ1Nzg2OA==.html" target="_blank" rel="noopener">视频链接</a>，在这个视频中，国外YouTube的numberphile数学家讲解了这个数列是素纽结的结数序列，并把这个数列给到了$n\leq10$时的值，打表提交即可得到40pts。</p><p>70pts：显然这题数据点是$7\leq n\leq16$，所以发动广大网友的力量，我们成功的在某贴吧中找到了$n\leq13$时的值，打表提交即可得到70pts。</p><p>100pts：题解到这里，不仅会有人会问，都已经翻遍网络了，还没有AC，PM你的后3个点是不是故意不让人过的所以乱造的数据啊？这里我要回复：不，那是因为你没有访问维基百科找<a href="https://en.wikipedia.org/wiki/Prime_knot" target="_blank" rel="noopener">Prime_knot素纽结</a>，这才是真正的答案来源，可以看到连维基百科都只把数列给到$n\leq16$，说明这是多么的无规律，所以<del>毒瘤的</del>我当然不会放过了，最后打表提交即可AC。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://www.luogu.org/problemnew/show/T27533&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;LuoguT27533&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;拿到这组数蒙了？为了方便大家找规律，我在出样例时特意给
      
    
    </summary>
    
      <category term="题解" scheme="https://williampetermatthew.github.io/categories/%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="题解" scheme="https://williampetermatthew.github.io/tags/%E9%A2%98%E8%A7%A3/"/>
    
  </entry>
  
  <entry>
    <title>题解 T27523 【[开昕生日愚人题#5]三角圆函数】</title>
    <link href="https://williampetermatthew.github.io/blog/solution-t27523/"/>
    <id>https://williampetermatthew.github.io/blog/solution-t27523/</id>
    <published>2018-04-16T11:34:59.000Z</published>
    <updated>2018-09-08T10:09:56.950Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.luogu.org/problemnew/show/T27523" target="_blank" rel="noopener">LuoguT27523</a>:</p><p>由于本题比较复杂，不再详细多少分对应什么问题或算法了，因为会出的错误千奇百怪，这其实是由于对“三角函数”的概念不是非常具体，我在题目中也说了，“三角函数”又叫“圆函数”。</p><p>这里要科普下：三角函数可不止包括sin、cos和tan，还不止包括cot、sec和csc，更不止包括asin、acos、atan、acot、asec和acsc。</p><p>有人会问了，那还有什么，其实还有很多，这题里面还有双曲三角函数sinh、cosh…及其反函数asinh、acosh…当然这题我皮了一下，还写了他们的全称，sine、tangent、secant、arc（例如arcsine）、hyperbolic（例如hyperbolicsine）。所以打字符表，写函数即可AC。</p><p>因为正矢（versin、vercosin）、余矢（coversin、covercosin）、半正矢（haversin、havercosin）、半余矢（hacoversin、hacovercosin）、外正割（exsec）和外余割（excsc）看完百科后太好推了，所以我就没有出这组数据。</p><p>最后附赠一段本题出题的参考链接：</p><p><a href="https://baike.baidu.com/item/%E4%B8%89%E8%A7%92%E5%87%BD%E6%95%B0/1652457" target="_blank" rel="noopener">三角函数</a> | <a href="https://baike.baidu.com/item/%E5%8F%8D%E4%B8%89%E8%A7%92%E5%87%BD%E6%95%B0" target="_blank" rel="noopener">反三角函数</a></p><p><a href="https://baike.baidu.com/item/%E5%8F%8C%E6%9B%B2%E5%87%BD%E6%95%B0" target="_blank" rel="noopener">双曲三角函数</a> | <a href="https://baike.baidu.com/item/%E5%8F%8D%E5%8F%8C%E6%9B%B2%E5%87%BD%E6%95%B0" target="_blank" rel="noopener">反双曲三角函数</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://www.luogu.org/problemnew/show/T27523&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;LuoguT27523&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;由于本题比较复杂，不再详细多少分对应什么问题或算法了，
      
    
    </summary>
    
      <category term="题解" scheme="https://williampetermatthew.github.io/categories/%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="题解" scheme="https://williampetermatthew.github.io/tags/%E9%A2%98%E8%A7%A3/"/>
    
  </entry>
  
  <entry>
    <title>题解 T27522 【[开昕生日愚人题#4]二项式展开】</title>
    <link href="https://williampetermatthew.github.io/blog/solution-t27522/"/>
    <id>https://williampetermatthew.github.io/blog/solution-t27522/</id>
    <published>2018-04-16T11:22:24.000Z</published>
    <updated>2018-09-08T10:09:35.593Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.luogu.org/problemnew/show/T27522" target="_blank" rel="noopener">LuoguT27522</a>:</p><p>此题用了二项式定理，不知道可自行百度。</p><p>20pts：就是表面上看的输出展开的字符。</p><p>100pts：5以内杨辉三角数可以按$11^n$计算？$n\leq4$是没错，但是n==5时为161051，显然不是，那是不是我写错了呢？当然不是。所以你需要做的是按照这个规律输出。当然显然是没法按照$11^n$乘算的，所以我们只需要先算出杨辉三角数，然后再从后往前传大于10的数即可，多于总数时要多输出一个常数。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://www.luogu.org/problemnew/show/T27522&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;LuoguT27522&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;此题用了二项式定理，不知道可自行百度。&lt;/p&gt;
&lt;p&gt;
      
    
    </summary>
    
      <category term="题解" scheme="https://williampetermatthew.github.io/categories/%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="题解" scheme="https://williampetermatthew.github.io/tags/%E9%A2%98%E8%A7%A3/"/>
    
  </entry>
  
  <entry>
    <title>题解 T27521 【[开昕生日愚人题#3]字符串的值】</title>
    <link href="https://williampetermatthew.github.io/blog/solution-t27521/"/>
    <id>https://williampetermatthew.github.io/blog/solution-t27521/</id>
    <published>2018-04-16T11:09:16.000Z</published>
    <updated>2018-09-08T10:09:22.947Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.luogu.org/problemnew/show/T27521" target="_blank" rel="noopener">LuoguT27521</a>:</p><p>简单的题？非也非也。</p><p>6pts：按正常题意输出几个字符之和。</p><p>74pts：字符中有几个例如’NUL’、’TAB’、’EOF’之类神奇的单字符，读到这些要输出对应的值，例如’NUL’是0，则读到”NUL”时应输出0。加上6pts的判断，即可得到84pts。</p><p>100pts：看说明下面好像白的地方比较多，用审查元素可以看到这张图片<img src="https://cdn.luogu.org/upload/pic/17460.png" alt="误差在0.000001内即可通过">，它附有一段说明：“误差在0.000001内即可通过”，这是怎么回事呢？在math.h库中，存在13个已定义的常数，例如M_E，M_PI，M_PI_2之类的常数，所以在读到时要输出值”M_E”，要输出小数点后6位以内对应的值2.718282。再加上84pts的程序，就可以得到100pts。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://www.luogu.org/problemnew/show/T27521&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;LuoguT27521&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;简单的题？非也非也。&lt;/p&gt;
&lt;p&gt;6pts：按正常题
      
    
    </summary>
    
      <category term="题解" scheme="https://williampetermatthew.github.io/categories/%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="题解" scheme="https://williampetermatthew.github.io/tags/%E9%A2%98%E8%A7%A3/"/>
    
  </entry>
  
  <entry>
    <title>题解 T27516 【[开昕生日愚人题#2]低级计算器】</title>
    <link href="https://williampetermatthew.github.io/blog/solution-t27516/"/>
    <id>https://williampetermatthew.github.io/blog/solution-t27516/</id>
    <published>2018-04-16T10:50:19.000Z</published>
    <updated>2018-09-08T10:08:39.686Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.luogu.org/problemnew/show/T27516" target="_blank" rel="noopener">LuoguT27516</a>:</p><p>本道题是所有这6题中最难的一道，因为为了愚人，让人觉得简单而放到了第二题的位置。</p><p>60pts：写出多元一次方程组求解代码。</p><p>100pts：注意在题目的说明里有两张图片<img src="https://cdn.luogu.org/upload/pic/17457.png" alt="+、-">和<img src="https://cdn.luogu.org/upload/pic/17459.png" alt="*、&amp;">，这里的两张图片用审查元素可以看到说明分别是“<code>+、-</code>”和“<code>*、&amp;</code>”，而用到<code>*</code>和<code>&amp;</code>的只有<code>C++</code>中的指针，所以在60pts的代码基础上加上指针的判断即可AC。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://www.luogu.org/problemnew/show/T27516&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;LuoguT27516&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;本道题是所有这6题中最难的一道，因为为了愚人，让人觉得
      
    
    </summary>
    
      <category term="题解" scheme="https://williampetermatthew.github.io/categories/%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="题解" scheme="https://williampetermatthew.github.io/tags/%E9%A2%98%E8%A7%A3/"/>
    
  </entry>
  
  <entry>
    <title>题解 T27508 【[开昕生日愚人题#1]以前的版本】</title>
    <link href="https://williampetermatthew.github.io/blog/solution-t27508/"/>
    <id>https://williampetermatthew.github.io/blog/solution-t27508/</id>
    <published>2018-04-16T10:43:02.000Z</published>
    <updated>2018-09-08T10:07:26.811Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.luogu.org/problemnew/show/T27508" target="_blank" rel="noopener">LuoguT27508</a>:</p><p>本题所指的以前的版本是指Minecraft的以前的版本。数字ID指的是1.7及之前的版本，当时使用数字ID，之后的版本则使用“minecraft:xxx”的方式表示物品ID，其实物品附加参数不为0的物品ID是一样的，所以说明里的那句是为了提示而写的。</p><p>0pts：打表使用“Minecraft”或“：”输出</p><p>98pts：没有打ID为0时的表。</p><p>100pts：避开上述错误打50以内的表即可。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://www.luogu.org/problemnew/show/T27508&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;LuoguT27508&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;本题所指的以前的版本是指Minecraft的以前的版本
      
    
    </summary>
    
      <category term="题解" scheme="https://williampetermatthew.github.io/categories/%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="题解" scheme="https://williampetermatthew.github.io/tags/%E9%A2%98%E8%A7%A3/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://williampetermatthew.github.io/blog/hello-world/"/>
    <id>https://williampetermatthew.github.io/blog/hello-world/</id>
    <published>1999-12-31T16:00:00.000Z</published>
    <updated>2018-10-20T14:53:07.536Z</updated>
    
    <content type="html"><![CDATA[<p>WOW!你没有看错，这个是HA省大蒟蒻Peter_Matthew的博客。。。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"Hello,world!"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio,h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">puts</span>(<span class="string">"Hello,world!"</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javascript: <span class="built_in">document</span>.write(<span class="string">"Hello,world!"</span>);</span><br></pre></td></tr></table></figure><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">printfn <span class="string">"Hello,world!"</span></span><br></pre></td></tr></table></figure><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">? <span class="string">"Hello,world!"</span></span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@echo Hello,world!</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"Hello,world!"</span>)</span><br></pre></td></tr></table></figure><figure class="highlight pascal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">begin</span></span><br><span class="line">writeln(<span class="string">'Hello,world!'</span>);</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Hello</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">System.Console.WriteLine(<span class="string">"Hello,world!"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><blockquote><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://t1.picb.cc/uploads/2018/09/06/JW1a8i.png" alt="知识共享许可协议"></a></p><p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener"><img src="https://t1.picb.cc/uploads/2018/09/06/JW1bXL.png" alt="知识共享许可协议"></a></p><p>本作品采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;WOW!你没有看错，这个是HA省大蒟蒻Peter_Matthew的博客。。。&lt;br&gt;&lt;figure class=&quot;highlight cpp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br
      
    
    </summary>
    
    
  </entry>
  
</feed>
